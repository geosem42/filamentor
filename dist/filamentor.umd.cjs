(function(We){typeof define=="function"&&define.amd?define(We):We()})(function(){"use strict";var We=document.createElement("style");We.textContent=`.filamentor-border{border:1px solid #e2e2e2}.dark .filamentor-border{border:1px solid #3a3a3a}.filamentor-spacing-input{border-color:#e5e7eb}.dark .filamentor-spacing-input{border-color:#3a3a3a}input.filamentor-spacing-input:focus{border-color:#ababac;outline:none}.dark .filamentor-spacing-input:focus{border-color:#5a5a5a;outline:none}.filamentor-spacing-input-first{border-top-left-radius:10px!important;border-bottom-left-radius:10px!important}.filamentor-spacing-input-middle{border-left:0}.filamentor-spacing-input-last{border-left:0;border-top-right-radius:10px!important;border-bottom-right-radius:10px!important}.filamentor-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.filamentor-element-card{background-color:#fff;border:1px solid #e2e2e2}.dark .filamentor-element-card{background-color:#1f2937;border:1px solid #3a3a3a}.filamentor-element-card:hover{background-color:#f3f4f6;border-color:#d1d5db}.dark .filamentor-element-card:hover{background-color:#374151;border-color:#4b5563}.sortable-ghost{opacity:.5;background:#e5e7eb}.sortable-chosen{opacity:1}.column-item{transition:transform .15s ease}.column-handle{cursor:grab}.column-handle:active{cursor:grabbing}.dragging{opacity:.5;border:2px dashed #707070}.dark .dragging{opacity:.5;border:2px dashed #d3d3d3}.drop-target{border:2px solid #707070;transform:translateY(2px);transition:all .2s ease}.dark .drop-target{border:2px solid #d3d3d3;transform:translateY(2px);transition:all .2s ease}.column-droppable{border:2px dashed #e5e7eb}.dragging-column{opacity:.5;border:2px dashed #707070!important}.drop-target-column{border:2px solid #707070!important}.dragging-column~.row-drop-indicator{display:none!important}.filamentor-btn-hover{border-radius:.25rem}.filamentor-btn-hover:hover{background-color:#f3f4f6}.dark .filamentor-btn-hover:hover{background-color:#374151}
/*$vite$:1*/`,document.head.appendChild(We),document.addEventListener("alpine:init",()=>{Alpine.store("rows",{items:[],init(){},setRows(e){this.items=e},getColumn(e,t){var n;return((n=this.items[e])==null?void 0:n.columns[t])||{}},getColumns(e){var t;return((t=this.items[e])==null?void 0:t.columns)||[]},reorderRows(e){if(!e||typeof e.newIndex>"u"||typeof e.oldIndex>"u")return this.items;const t=e.newIndex,n=e.oldIndex;let r=[...this.items];const o=r.splice(n,1)[0];return r.splice(t,0,o),r.forEach((i,a)=>{i.order=a}),this.items=r,this.items},reorderColumns({sourceRowId:e,targetRowId:t,oldIndex:n,newIndex:r}){const o=[...this.items],i=o.find(l=>l.id===parseInt(e)),a=o.find(l=>l.id===parseInt(t)),[s]=i.columns.splice(n,1);return a.columns.splice(r,0,s),this.items=o,o}})});function Uo(e){return{handleDragStart(t,n){t.dataTransfer.setData("text/plain",n.id),t.target.classList.add("dragging")},handleDragOver(t){t.preventDefault();const n=t.target.closest(".bg-gray-50");n&&(document.querySelectorAll(".drop-target").forEach(r=>{r.classList.remove("drop-target")}),n.classList.add("drop-target"))},handleDragEnd(t){t.target.classList.remove("dragging"),document.querySelectorAll(".drop-target").forEach(n=>{n.classList.remove("drop-target")})},handleDrop(t,n){t.preventDefault(),document.querySelectorAll(".dragging, .drop-target").forEach(u=>{u.classList.remove("dragging","drop-target")});const r=t.dataTransfer.getData("text/plain"),o=Alpine.store("rows").items,i=o.findIndex(u=>u.id.toString()===r),a=o.findIndex(u=>u.id===n.id),s=Alpine.store("rows").reorderRows({newIndex:a,oldIndex:i});window.Livewire.find(document.querySelector("[wire\\:id]").getAttribute("wire:id")).saveLayout(JSON.stringify(s))},handleColumnDragStart(t,n,r){t.stopPropagation(),t.dataTransfer.setData("text/plain",JSON.stringify({columnId:n.id,rowId:r.id})),t.target.classList.add("dragging-column")},handleColumnDragOver(t){t.stopPropagation(),t.preventDefault();const n=t.target.closest('[draggable="true"]');n&&!n.classList.contains("dragging-column")&&(document.querySelectorAll(".drop-target-column").forEach(r=>{r.classList.remove("drop-target-column")}),n.classList.add("drop-target-column"))},handleColumnDragEnd(t){t.stopPropagation(),document.querySelectorAll(".dragging-column, .drop-target-column").forEach(n=>{n.classList.remove("dragging-column","drop-target-column")})},handleColumnDrop(t,n,r){t.stopPropagation(),t.preventDefault();const o=JSON.parse(t.dataTransfer.getData("text/plain"));if(o.rowId!==r.id)return;const i=r.columns.findIndex(u=>u.id===o.columnId),a=r.columns.findIndex(u=>u.id===n.id),s=Alpine.store("rows").reorderColumns({sourceRowId:r.id,targetRowId:r.id,oldIndex:i,newIndex:a});window.Livewire.find(document.querySelector("[wire\\:id]").getAttribute("wire:id")).saveLayout(JSON.stringify(s))}}}var Jt=!1,Gt=!1,ve=[],Ut=-1;function Vo(e){Zo(e)}function Zo(e){ve.includes(e)||ve.push(e),ei()}function Qo(e){let t=ve.indexOf(e);t!==-1&&t>Ut&&ve.splice(t,1)}function ei(){!Gt&&!Jt&&(Jt=!0,queueMicrotask(ti))}function ti(){Jt=!1,Gt=!0;for(let e=0;e<ve.length;e++)ve[e](),Ut=e;ve.length=0,Ut=-1,Gt=!1}var Re,ye,$e,er,Vt=!0;function ni(e){Vt=!1,e(),Vt=!0}function ri(e){Re=e.reactive,$e=e.release,ye=t=>e.effect(t,{scheduler:n=>{Vt?Vo(n):n()}}),er=e.raw}function tr(e){ye=e}function oi(e){let t=()=>{};return[r=>{let o=ye(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(i=>i())}),e._x_effects.add(o),t=()=>{o!==void 0&&(e._x_effects.delete(o),$e(o))},o},()=>{t()}]}function nr(e,t){let n=!0,r,o=ye(()=>{let i=e();JSON.stringify(i),n?r=i:queueMicrotask(()=>{t(i,r),r=i}),n=!1});return()=>$e(o)}var rr=[],or=[],ir=[];function ii(e){ir.push(e)}function Zt(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,or.push(t))}function ar(e){rr.push(e)}function sr(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function lr(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,r])=>{(t===void 0||t.includes(n))&&(r.forEach(o=>o()),delete e._x_attributeCleanups[n])})}function ai(e){var t,n;for((t=e._x_effects)==null||t.forEach(Qo);(n=e._x_cleanups)!=null&&n.length;)e._x_cleanups.pop()()}var Qt=new MutationObserver(rn),en=!1;function tn(){Qt.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),en=!0}function ur(){si(),Qt.disconnect(),en=!1}var Ke=[];function si(){let e=Qt.takeRecords();Ke.push(()=>e.length>0&&rn(e));let t=Ke.length;queueMicrotask(()=>{if(Ke.length===t)for(;Ke.length>0;)Ke.shift()()})}function T(e){if(!en)return e();ur();let t=e();return tn(),t}var nn=!1,pt=[];function li(){nn=!0}function ui(){nn=!1,rn(pt),pt=[]}function rn(e){if(nn){pt=pt.concat(e);return}let t=[],n=new Set,r=new Map,o=new Map;for(let i=0;i<e.length;i++)if(!e[i].target._x_ignoreMutationObserver&&(e[i].type==="childList"&&(e[i].removedNodes.forEach(a=>{a.nodeType===1&&a._x_marker&&n.add(a)}),e[i].addedNodes.forEach(a=>{if(a.nodeType===1){if(n.has(a)){n.delete(a);return}a._x_marker||t.push(a)}})),e[i].type==="attributes")){let a=e[i].target,s=e[i].attributeName,l=e[i].oldValue,u=()=>{r.has(a)||r.set(a,[]),r.get(a).push({name:s,value:a.getAttribute(s)})},c=()=>{o.has(a)||o.set(a,[]),o.get(a).push(s)};a.hasAttribute(s)&&l===null?u():a.hasAttribute(s)?(c(),u()):c()}o.forEach((i,a)=>{lr(a,i)}),r.forEach((i,a)=>{rr.forEach(s=>s(a,i))});for(let i of n)t.some(a=>a.contains(i))||or.forEach(a=>a(i));for(let i of t)i.isConnected&&ir.forEach(a=>a(i));t=null,n=null,r=null,o=null}function cr(e){return qe(Ne(e))}function Xe(e,t,n){return e._x_dataStack=[t,...Ne(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(r=>r!==t)}}function Ne(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?Ne(e.host):e.parentNode?Ne(e.parentNode):[]}function qe(e){return new Proxy({objects:e},ci)}var ci={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(t=>Object.keys(t))))},has({objects:e},t){return t==Symbol.unscopables?!1:e.some(n=>Object.prototype.hasOwnProperty.call(n,t)||Reflect.has(n,t))},get({objects:e},t,n){return t=="toJSON"?di:Reflect.get(e.find(r=>Reflect.has(r,t))||{},t,n)},set({objects:e},t,n,r){const o=e.find(a=>Object.prototype.hasOwnProperty.call(a,t))||e[e.length-1],i=Object.getOwnPropertyDescriptor(o,t);return i!=null&&i.set&&(i!=null&&i.get)?i.set.call(r,n)||!0:Reflect.set(o,t,n)}};function di(){return Reflect.ownKeys(this).reduce((t,n)=>(t[n]=Reflect.get(this,n),t),{})}function dr(e){let t=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,n=(r,o="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([i,{value:a,enumerable:s}])=>{if(s===!1||a===void 0||typeof a=="object"&&a!==null&&a.__v_skip)return;let l=o===""?i:`${o}.${i}`;typeof a=="object"&&a!==null&&a._x_interceptor?r[i]=a.initialize(e,l,i):t(a)&&a!==r&&!(a instanceof Element)&&n(a,l)})};return n(e)}function fr(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(r,o,i){return e(this.initialValue,()=>fi(r,o),a=>on(r,o,a),o,i)}};return t(n),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let o=n.initialize.bind(n);n.initialize=(i,a,s)=>{let l=r.initialize(i,a,s);return n.initialValue=l,o(i,a,s)}}else n.initialValue=r;return n}}function fi(e,t){return t.split(".").reduce((n,r)=>n[r],e)}function on(e,t,n){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=n;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),on(e[t[0]],t.slice(1),n)}}var hr={};function G(e,t){hr[e]=t}function an(e,t){let n=hi(t);return Object.entries(hr).forEach(([r,o])=>{Object.defineProperty(e,`$${r}`,{get(){return o(t,n)},enumerable:!1})}),e}function hi(e){let[t,n]=_r(e),r={interceptor:fr,...t};return Zt(e,n),r}function pi(e,t,n,...r){try{return n(...r)}catch(o){Je(o,e,t)}}function Je(e,t,n=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var mt=!0;function pr(e){let t=mt;mt=!1;let n=e();return mt=t,n}function _e(e,t,n={}){let r;return F(e,t)(o=>r=o,n),r}function F(...e){return mr(...e)}var mr=gr;function mi(e){mr=e}function gr(e,t){let n={};an(n,e);let r=[n,...Ne(e)],o=typeof t=="function"?gi(r,t):yi(r,t,e);return pi.bind(null,e,t,o)}function gi(e,t){return(n=()=>{},{scope:r={},params:o=[]}={})=>{let i=t.apply(qe([r,...e]),o);gt(n,i)}}var sn={};function vi(e,t){if(sn[e])return sn[e];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,i=(()=>{try{let a=new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(a,"name",{value:`[Alpine] ${e}`}),a}catch(a){return Je(a,t,e),Promise.resolve()}})();return sn[e]=i,i}function yi(e,t,n){let r=vi(t,n);return(o=()=>{},{scope:i={},params:a=[]}={})=>{r.result=void 0,r.finished=!1;let s=qe([i,...e]);if(typeof r=="function"){let l=r(r,s).catch(u=>Je(u,n,t));r.finished?(gt(o,r.result,s,a,n),r.result=void 0):l.then(u=>{gt(o,u,s,a,n)}).catch(u=>Je(u,n,t)).finally(()=>r.result=void 0)}}}function gt(e,t,n,r,o){if(mt&&typeof t=="function"){let i=t.apply(n,r);i instanceof Promise?i.then(a=>gt(e,a,n,r)).catch(a=>Je(a,o,t)):e(i)}else typeof t=="object"&&t instanceof Promise?t.then(i=>e(i)):e(t)}var ln="x-";function Pe(e=""){return ln+e}function _i(e){ln=e}var vt={};function N(e,t){return vt[e]=t,{before(n){if(!vt[n]){console.warn(String.raw`Cannot find directive \`${n}\`. \`${e}\` will use the default order of execution`);return}const r=we.indexOf(n);we.splice(r>=0?r:we.indexOf("DEFAULT"),0,e)}}}function wi(e){return Object.keys(vt).includes(e)}function un(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let i=Object.entries(e._x_virtualDirectives).map(([s,l])=>({name:s,value:l})),a=vr(i);i=i.map(s=>a.find(l=>l.name===s.name)?{name:`x-bind:${s.name}`,value:`"${s.value}"`}:s),t=t.concat(i)}let r={};return t.map(Er((i,a)=>r[i]=a)).filter(Cr).map(xi(r,n)).sort(Ci).map(i=>Ei(e,i))}function vr(e){return Array.from(e).map(Er()).filter(t=>!Cr(t))}var cn=!1,Ge=new Map,yr=Symbol();function bi(e){cn=!0;let t=Symbol();yr=t,Ge.set(t,[]);let n=()=>{for(;Ge.get(t).length;)Ge.get(t).shift()();Ge.delete(t)},r=()=>{cn=!1,n()};e(n),r()}function _r(e){let t=[],n=s=>t.push(s),[r,o]=oi(e);return t.push(o),[{Alpine:Ze,effect:r,cleanup:n,evaluateLater:F.bind(F,e),evaluate:_e.bind(_e,e)},()=>t.forEach(s=>s())]}function Ei(e,t){let n=()=>{},r=vt[t.type]||n,[o,i]=_r(e);sr(e,t.original,i);let a=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,o),r=r.bind(r,e,t,o),cn?Ge.get(yr).push(r):r())};return a.runCleanups=i,a}var wr=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r}),br=e=>e;function Er(e=()=>{}){return({name:t,value:n})=>{let{name:r,value:o}=xr.reduce((i,a)=>a(i),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:o}}}var xr=[];function dn(e){xr.push(e)}function Cr({name:e}){return Sr().test(e)}var Sr=()=>new RegExp(`^${ln}([^:^.]+)\\b`);function xi(e,t){return({name:n,value:r})=>{let o=n.match(Sr()),i=n.match(/:([a-zA-Z0-9\-_:]+)/),a=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],s=t||e[n]||n;return{type:o?o[1]:null,value:i?i[1]:null,modifiers:a.map(l=>l.replace(".","")),expression:r,original:s}}}var fn="DEFAULT",we=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",fn,"teleport"];function Ci(e,t){let n=we.indexOf(e.type)===-1?fn:e.type,r=we.indexOf(t.type)===-1?fn:t.type;return we.indexOf(n)-we.indexOf(r)}function Ue(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function be(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(o=>be(o,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let r=e.firstElementChild;for(;r;)be(r,t),r=r.nextElementSibling}function q(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var Ar=!1;function Si(){Ar&&q("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Ar=!0,document.body||q("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Ue(document,"alpine:init"),Ue(document,"alpine:initializing"),tn(),ii(t=>re(t,be)),Zt(t=>Le(t)),ar((t,n)=>{un(t,n).forEach(r=>r())});let e=t=>!yt(t.parentElement,!0);Array.from(document.querySelectorAll(Or().join(","))).filter(e).forEach(t=>{re(t)}),Ue(document,"alpine:initialized"),setTimeout(()=>{Oi()})}var hn=[],Dr=[];function Ir(){return hn.map(e=>e())}function Or(){return hn.concat(Dr).map(e=>e())}function Tr(e){hn.push(e)}function Rr(e){Dr.push(e)}function yt(e,t=!1){return Me(e,n=>{if((t?Or():Ir()).some(o=>n.matches(o)))return!0})}function Me(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return Me(e.parentElement,t)}}function Ai(e){return Ir().some(t=>e.matches(t))}var $r=[];function Di(e){$r.push(e)}var Ii=1;function re(e,t=be,n=()=>{}){Me(e,r=>r._x_ignore)||bi(()=>{t(e,(r,o)=>{r._x_marker||(n(r,o),$r.forEach(i=>i(r,o)),un(r,r.attributes).forEach(i=>i()),r._x_ignore||(r._x_marker=Ii++),r._x_ignore&&o())})})}function Le(e,t=be){t(e,n=>{ai(n),lr(n),delete n._x_marker})}function Oi(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,n,r])=>{wi(n)||r.some(o=>{if(document.querySelector(o))return q(`found "${o}", but missing ${t} plugin`),!0})})}var pn=[],mn=!1;function gn(e=()=>{}){return queueMicrotask(()=>{mn||setTimeout(()=>{vn()})}),new Promise(t=>{pn.push(()=>{e(),t()})})}function vn(){for(mn=!1;pn.length;)pn.shift()()}function Ti(){mn=!0}function yn(e,t){return Array.isArray(t)?Nr(e,t.join(" ")):typeof t=="object"&&t!==null?Ri(e,t):typeof t=="function"?yn(e,t()):Nr(e,t)}function Nr(e,t){let n=o=>o.split(" ").filter(i=>!e.classList.contains(i)).filter(Boolean),r=o=>(e.classList.add(...o),()=>{e.classList.remove(...o)});return t=t===!0?t="":t||"",r(n(t))}function Ri(e,t){let n=s=>s.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([s,l])=>l?n(s):!1).filter(Boolean),o=Object.entries(t).flatMap(([s,l])=>l?!1:n(s)).filter(Boolean),i=[],a=[];return o.forEach(s=>{e.classList.contains(s)&&(e.classList.remove(s),a.push(s))}),r.forEach(s=>{e.classList.contains(s)||(e.classList.add(s),i.push(s))}),()=>{a.forEach(s=>e.classList.add(s)),i.forEach(s=>e.classList.remove(s))}}function _t(e,t){return typeof t=="object"&&t!==null?$i(e,t):Ni(e,t)}function $i(e,t){let n={};return Object.entries(t).forEach(([r,o])=>{n[r]=e.style[r],r.startsWith("--")||(r=Pi(r)),e.style.setProperty(r,o)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{_t(e,n)}}function Ni(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}function Pi(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _n(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}N("transition",(e,{value:t,modifiers:n,expression:r},{evaluate:o})=>{typeof r=="function"&&(r=o(r)),r!==!1&&(!r||typeof r=="boolean"?Li(e,n,t):Mi(e,r,t))});function Mi(e,t,n){Pr(e,yn,""),{enter:o=>{e._x_transition.enter.during=o},"enter-start":o=>{e._x_transition.enter.start=o},"enter-end":o=>{e._x_transition.enter.end=o},leave:o=>{e._x_transition.leave.during=o},"leave-start":o=>{e._x_transition.leave.start=o},"leave-end":o=>{e._x_transition.leave.end=o}}[n](t)}function Li(e,t,n){Pr(e,_t);let r=!t.includes("in")&&!t.includes("out")&&!n,o=r||t.includes("in")||["enter"].includes(n),i=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter((E,w)=>w<t.indexOf("out"))),t.includes("out")&&!r&&(t=t.filter((E,w)=>w>t.indexOf("out")));let a=!t.includes("opacity")&&!t.includes("scale"),s=a||t.includes("opacity"),l=a||t.includes("scale"),u=s?0:1,c=l?Ve(t,"scale",95)/100:1,d=Ve(t,"delay",0)/1e3,h=Ve(t,"origin","center"),m="opacity, transform",_=Ve(t,"duration",150)/1e3,b=Ve(t,"duration",75)/1e3,p="cubic-bezier(0.4, 0.0, 0.2, 1)";o&&(e._x_transition.enter.during={transformOrigin:h,transitionDelay:`${d}s`,transitionProperty:m,transitionDuration:`${_}s`,transitionTimingFunction:p},e._x_transition.enter.start={opacity:u,transform:`scale(${c})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),i&&(e._x_transition.leave.during={transformOrigin:h,transitionDelay:`${d}s`,transitionProperty:m,transitionDuration:`${b}s`,transitionTimingFunction:p},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:u,transform:`scale(${c})`})}function Pr(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(r=()=>{},o=()=>{}){wn(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,o)},out(r=()=>{},o=()=>{}){wn(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,o)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){const o=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let i=()=>o(n);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):i():e._x_transition?e._x_transition.in(n):i();return}e._x_hidePromise=e._x_transition?new Promise((a,s)=>{e._x_transition.out(()=>{},()=>a(r)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>s({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let a=Mr(e);a?(a._x_hideChildren||(a._x_hideChildren=[]),a._x_hideChildren.push(e)):o(()=>{let s=l=>{let u=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(s)]).then(([c])=>c==null?void 0:c());return delete l._x_hidePromise,delete l._x_hideChildren,u};s(e).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function Mr(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Mr(t)}function wn(e,t,{during:n,start:r,end:o}={},i=()=>{},a=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(r).length===0&&Object.keys(o).length===0){i(),a();return}let s,l,u;ki(e,{start(){s=t(e,r)},during(){l=t(e,n)},before:i,end(){s(),u=t(e,o)},after:a,cleanup(){l(),u()}})}function ki(e,t){let n,r,o,i=_n(()=>{T(()=>{n=!0,r||t.before(),o||(t.end(),vn()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(a){this.beforeCancels.push(a)},cancel:_n(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();i()}),finish:i},T(()=>{t.start(),t.during()}),Ti(),requestAnimationFrame(()=>{if(n)return;let a=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,s=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;a===0&&(a=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),T(()=>{t.before()}),r=!0,requestAnimationFrame(()=>{n||(T(()=>{t.end()}),vn(),setTimeout(e._x_transitioning.finish,a+s),o=!0)})})}function Ve(e,t,n){if(e.indexOf(t)===-1)return n;const r=e[e.indexOf(t)+1];if(!r||t==="scale"&&isNaN(r))return n;if(t==="duration"||t==="delay"){let o=r.match(/([0-9]+)ms/);if(o)return o[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}var le=!1;function ue(e,t=()=>{}){return(...n)=>le?t(...n):e(...n)}function ji(e){return(...t)=>le&&e(...t)}var Lr=[];function wt(e){Lr.push(e)}function Fi(e,t){Lr.forEach(n=>n(e,t)),le=!0,kr(()=>{re(t,(n,r)=>{r(n,()=>{})})}),le=!1}var bn=!1;function Bi(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),le=!0,bn=!0,kr(()=>{zi(t)}),le=!1,bn=!1}function zi(e){let t=!1;re(e,(r,o)=>{be(r,(i,a)=>{if(t&&Ai(i))return a();t=!0,o(i,a)})})}function kr(e){let t=ye;tr((n,r)=>{let o=t(n);return $e(o),()=>{}}),e(),tr(t)}function jr(e,t,n,r=[]){switch(e._x_bindings||(e._x_bindings=Re({})),e._x_bindings[t]=n,t=r.includes("camel")?Gi(t):t,t){case"value":Hi(e,n);break;case"style":Wi(e,n);break;case"class":Yi(e,n);break;case"selected":case"checked":Ki(e,t,n);break;default:Fr(e,t,n);break}}function Hi(e,t){if(Yr(e))e.attributes.value===void 0&&(e.value=t),window.fromModel&&(typeof t=="boolean"?e.checked=bt(e.value)===t:e.checked=Br(e.value,t));else if(En(e))Number.isInteger(t)?e.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(n=>Br(n,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")Ji(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}}function Yi(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=yn(e,t)}function Wi(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=_t(e,t)}function Ki(e,t,n){Fr(e,t,n),qi(e,t,n)}function Fr(e,t,n){[null,void 0,!1].includes(n)&&Vi(t)?e.removeAttribute(t):(zr(t)&&(n=t),Xi(e,t,n))}function Xi(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function qi(e,t,n){e[t]!==n&&(e[t]=n)}function Ji(e,t){const n=[].concat(t).map(r=>r+"");Array.from(e.options).forEach(r=>{r.selected=n.includes(r.value)})}function Gi(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function Br(e,t){return e==t}function bt(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}var Ui=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function zr(e){return Ui.has(e)}function Vi(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function Zi(e,t,n){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:Hr(e,t,n)}function Qi(e,t,n,r=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let o=e._x_inlineBindings[t];return o.extract=r,pr(()=>_e(e,o.expression))}return Hr(e,t,n)}function Hr(e,t,n){let r=e.getAttribute(t);return r===null?typeof n=="function"?n():n:r===""?!0:zr(t)?!![t,"true"].includes(r):r}function En(e){return e.type==="checkbox"||e.localName==="ui-checkbox"||e.localName==="ui-switch"}function Yr(e){return e.type==="radio"||e.localName==="ui-radio"}function Wr(e,t){var n;return function(){var r=this,o=arguments,i=function(){n=null,e.apply(r,o)};clearTimeout(n),n=setTimeout(i,t)}}function Kr(e,t){let n;return function(){let r=this,o=arguments;n||(e.apply(r,o),n=!0,setTimeout(()=>n=!1,t))}}function Xr({get:e,set:t},{get:n,set:r}){let o=!0,i,a=ye(()=>{let s=e(),l=n();if(o)r(xn(s)),o=!1;else{let u=JSON.stringify(s),c=JSON.stringify(l);u!==i?r(xn(s)):u!==c&&t(xn(l))}i=JSON.stringify(e()),JSON.stringify(n())});return()=>{$e(a)}}function xn(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function ea(e){(Array.isArray(e)?e:[e]).forEach(n=>n(Ze))}var Ee={},qr=!1;function ta(e,t){if(qr||(Ee=Re(Ee),qr=!0),t===void 0)return Ee[e];Ee[e]=t,dr(Ee[e]),typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&Ee[e].init()}function na(){return Ee}var Jr={};function ra(e,t){let n=typeof t!="function"?()=>t:t;return e instanceof Element?Gr(e,n()):(Jr[e]=n,()=>{})}function oa(e){return Object.entries(Jr).forEach(([t,n])=>{Object.defineProperty(e,t,{get(){return(...r)=>n(...r)}})}),e}function Gr(e,t,n){let r=[];for(;r.length;)r.pop()();let o=Object.entries(t).map(([a,s])=>({name:a,value:s})),i=vr(o);return o=o.map(a=>i.find(s=>s.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),un(e,o,n).map(a=>{r.push(a.runCleanups),a()}),()=>{for(;r.length;)r.pop()()}}var Ur={};function ia(e,t){Ur[e]=t}function aa(e,t){return Object.entries(Ur).forEach(([n,r])=>{Object.defineProperty(e,n,{get(){return(...o)=>r.bind(t)(...o)},enumerable:!1})}),e}var sa={get reactive(){return Re},get release(){return $e},get effect(){return ye},get raw(){return er},version:"3.14.9",flushAndStopDeferringMutations:ui,dontAutoEvaluateFunctions:pr,disableEffectScheduling:ni,startObservingMutations:tn,stopObservingMutations:ur,setReactivityEngine:ri,onAttributeRemoved:sr,onAttributesAdded:ar,closestDataStack:Ne,skipDuringClone:ue,onlyDuringClone:ji,addRootSelector:Tr,addInitSelector:Rr,interceptClone:wt,addScopeToNode:Xe,deferMutations:li,mapAttributes:dn,evaluateLater:F,interceptInit:Di,setEvaluator:mi,mergeProxies:qe,extractProp:Qi,findClosest:Me,onElRemoved:Zt,closestRoot:yt,destroyTree:Le,interceptor:fr,transition:wn,setStyles:_t,mutateDom:T,directive:N,entangle:Xr,throttle:Kr,debounce:Wr,evaluate:_e,initTree:re,nextTick:gn,prefixed:Pe,prefix:_i,plugin:ea,magic:G,store:ta,start:Si,clone:Bi,cloneNode:Fi,bound:Zi,$data:cr,watch:nr,walk:be,data:ia,bind:ra},Ze=sa;function la(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return o=>!!n[o]}var ua=Object.freeze({}),ca=Object.prototype.hasOwnProperty,Et=(e,t)=>ca.call(e,t),xe=Array.isArray,Qe=e=>Vr(e)==="[object Map]",da=e=>typeof e=="string",Cn=e=>typeof e=="symbol",xt=e=>e!==null&&typeof e=="object",fa=Object.prototype.toString,Vr=e=>fa.call(e),Zr=e=>Vr(e).slice(8,-1),Sn=e=>da(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ha=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},pa=ha(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qr=(e,t)=>e!==t&&(e===e||t===t),An=new WeakMap,et=[],Q,Ce=Symbol("iterate"),Dn=Symbol("Map key iterate");function ma(e){return e&&e._isEffect===!0}function ga(e,t=ua){ma(e)&&(e=e.raw);const n=_a(e,t);return t.lazy||n(),n}function va(e){e.active&&(eo(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var ya=0;function _a(e,t){const n=function(){if(!n.active)return e();if(!et.includes(n)){eo(n);try{return ba(),et.push(n),Q=n,e()}finally{et.pop(),to(),Q=et[et.length-1]}}};return n.id=ya++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function eo(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var ke=!0,In=[];function wa(){In.push(ke),ke=!1}function ba(){In.push(ke),ke=!0}function to(){const e=In.pop();ke=e===void 0?!0:e}function U(e,t,n){if(!ke||Q===void 0)return;let r=An.get(e);r||An.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=new Set),o.has(Q)||(o.add(Q),Q.deps.push(o),Q.options.onTrack&&Q.options.onTrack({effect:Q,target:e,type:t,key:n}))}function ce(e,t,n,r,o,i){const a=An.get(e);if(!a)return;const s=new Set,l=c=>{c&&c.forEach(d=>{(d!==Q||d.allowRecurse)&&s.add(d)})};if(t==="clear")a.forEach(l);else if(n==="length"&&xe(e))a.forEach((c,d)=>{(d==="length"||d>=r)&&l(c)});else switch(n!==void 0&&l(a.get(n)),t){case"add":xe(e)?Sn(n)&&l(a.get("length")):(l(a.get(Ce)),Qe(e)&&l(a.get(Dn)));break;case"delete":xe(e)||(l(a.get(Ce)),Qe(e)&&l(a.get(Dn)));break;case"set":Qe(e)&&l(a.get(Ce));break}const u=c=>{c.options.onTrigger&&c.options.onTrigger({effect:c,target:e,key:n,type:t,newValue:r,oldValue:o,oldTarget:i}),c.options.scheduler?c.options.scheduler(c):c()};s.forEach(u)}var Ea=la("__proto__,__v_isRef,__isVue"),no=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(Cn)),xa=oo(),Ca=oo(!0),ro=Sa();function Sa(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=I(this);for(let i=0,a=this.length;i<a;i++)U(r,"get",i+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(I)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){wa();const r=I(this)[t].apply(this,n);return to(),r}}),e}function oo(e=!1,t=!1){return function(r,o,i){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_raw"&&i===(e?t?Fa:ho:t?ja:fo).get(r))return r;const a=xe(r);if(!e&&a&&Et(ro,o))return Reflect.get(ro,o,i);const s=Reflect.get(r,o,i);return(Cn(o)?no.has(o):Ea(o))||(e||U(r,"get",o),t)?s:Nn(s)?!a||!Sn(o)?s.value:s:xt(s)?e?po(s):$n(s):s}}var Aa=Da();function Da(e=!1){return function(n,r,o,i){let a=n[r];if(!e&&(o=I(o),a=I(a),!xe(n)&&Nn(a)&&!Nn(o)))return a.value=o,!0;const s=xe(n)&&Sn(r)?Number(r)<n.length:Et(n,r),l=Reflect.set(n,r,o,i);return n===I(i)&&(s?Qr(o,a)&&ce(n,"set",r,o,a):ce(n,"add",r,o)),l}}function Ia(e,t){const n=Et(e,t),r=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&ce(e,"delete",t,void 0,r),o}function Oa(e,t){const n=Reflect.has(e,t);return(!Cn(t)||!no.has(t))&&U(e,"has",t),n}function Ta(e){return U(e,"iterate",xe(e)?"length":Ce),Reflect.ownKeys(e)}var Ra={get:xa,set:Aa,deleteProperty:Ia,has:Oa,ownKeys:Ta},$a={get:Ca,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},On=e=>xt(e)?$n(e):e,Tn=e=>xt(e)?po(e):e,Rn=e=>e,Ct=e=>Reflect.getPrototypeOf(e);function St(e,t,n=!1,r=!1){e=e.__v_raw;const o=I(e),i=I(t);t!==i&&!n&&U(o,"get",t),!n&&U(o,"get",i);const{has:a}=Ct(o),s=r?Rn:n?Tn:On;if(a.call(o,t))return s(e.get(t));if(a.call(o,i))return s(e.get(i));e!==o&&e.get(t)}function At(e,t=!1){const n=this.__v_raw,r=I(n),o=I(e);return e!==o&&!t&&U(r,"has",e),!t&&U(r,"has",o),e===o?n.has(e):n.has(e)||n.has(o)}function Dt(e,t=!1){return e=e.__v_raw,!t&&U(I(e),"iterate",Ce),Reflect.get(e,"size",e)}function io(e){e=I(e);const t=I(this);return Ct(t).has.call(t,e)||(t.add(e),ce(t,"add",e,e)),this}function ao(e,t){t=I(t);const n=I(this),{has:r,get:o}=Ct(n);let i=r.call(n,e);i?co(n,r,e):(e=I(e),i=r.call(n,e));const a=o.call(n,e);return n.set(e,t),i?Qr(t,a)&&ce(n,"set",e,t,a):ce(n,"add",e,t),this}function so(e){const t=I(this),{has:n,get:r}=Ct(t);let o=n.call(t,e);o?co(t,n,e):(e=I(e),o=n.call(t,e));const i=r?r.call(t,e):void 0,a=t.delete(e);return o&&ce(t,"delete",e,void 0,i),a}function lo(){const e=I(this),t=e.size!==0,n=Qe(e)?new Map(e):new Set(e),r=e.clear();return t&&ce(e,"clear",void 0,void 0,n),r}function It(e,t){return function(r,o){const i=this,a=i.__v_raw,s=I(a),l=t?Rn:e?Tn:On;return!e&&U(s,"iterate",Ce),a.forEach((u,c)=>r.call(o,l(u),l(c),i))}}function Ot(e,t,n){return function(...r){const o=this.__v_raw,i=I(o),a=Qe(i),s=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,u=o[e](...r),c=n?Rn:t?Tn:On;return!t&&U(i,"iterate",l?Dn:Ce),{next(){const{value:d,done:h}=u.next();return h?{value:d,done:h}:{value:s?[c(d[0]),c(d[1])]:c(d),done:h}},[Symbol.iterator](){return this}}}}function de(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${pa(e)} operation ${n}failed: target is readonly.`,I(this))}return e==="delete"?!1:this}}function Na(){const e={get(i){return St(this,i)},get size(){return Dt(this)},has:At,add:io,set:ao,delete:so,clear:lo,forEach:It(!1,!1)},t={get(i){return St(this,i,!1,!0)},get size(){return Dt(this)},has:At,add:io,set:ao,delete:so,clear:lo,forEach:It(!1,!0)},n={get(i){return St(this,i,!0)},get size(){return Dt(this,!0)},has(i){return At.call(this,i,!0)},add:de("add"),set:de("set"),delete:de("delete"),clear:de("clear"),forEach:It(!0,!1)},r={get(i){return St(this,i,!0,!0)},get size(){return Dt(this,!0)},has(i){return At.call(this,i,!0)},add:de("add"),set:de("set"),delete:de("delete"),clear:de("clear"),forEach:It(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Ot(i,!1,!1),n[i]=Ot(i,!0,!1),t[i]=Ot(i,!1,!0),r[i]=Ot(i,!0,!0)}),[e,n,t,r]}var[Pa,Ma,Hs,Ys]=Na();function uo(e,t){const n=e?Ma:Pa;return(r,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(Et(n,o)&&o in r?n:r,o,i)}var La={get:uo(!1)},ka={get:uo(!0)};function co(e,t,n){const r=I(n);if(r!==n&&t.call(e,r)){const o=Zr(e);console.warn(`Reactive ${o} contains both the raw and reactive versions of the same object${o==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var fo=new WeakMap,ja=new WeakMap,ho=new WeakMap,Fa=new WeakMap;function Ba(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function za(e){return e.__v_skip||!Object.isExtensible(e)?0:Ba(Zr(e))}function $n(e){return e&&e.__v_isReadonly?e:mo(e,!1,Ra,La,fo)}function po(e){return mo(e,!0,$a,ka,ho)}function mo(e,t,n,r,o){if(!xt(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const a=za(e);if(a===0)return e;const s=new Proxy(e,a===2?r:n);return o.set(e,s),s}function I(e){return e&&I(e.__v_raw)||e}function Nn(e){return!!(e&&e.__v_isRef===!0)}G("nextTick",()=>gn),G("dispatch",e=>Ue.bind(Ue,e)),G("watch",(e,{evaluateLater:t,cleanup:n})=>(r,o)=>{let i=t(r),s=nr(()=>{let l;return i(u=>l=u),l},o);n(s)}),G("store",na),G("data",e=>cr(e)),G("root",e=>yt(e)),G("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=qe(Ha(e))),e._x_refs_proxy));function Ha(e){let t=[];return Me(e,n=>{n._x_refs&&t.push(n._x_refs)}),t}var Pn={};function go(e){return Pn[e]||(Pn[e]=0),++Pn[e]}function Ya(e,t){return Me(e,n=>{if(n._x_ids&&n._x_ids[t])return!0})}function Wa(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=go(t))}G("id",(e,{cleanup:t})=>(n,r=null)=>{let o=`${n}${r?`-${r}`:""}`;return Ka(e,o,t,()=>{let i=Ya(e,n),a=i?i._x_ids[n]:go(n);return r?`${n}-${a}-${r}`:`${n}-${a}`})}),wt((e,t)=>{e._x_id&&(t._x_id=e._x_id)});function Ka(e,t,n,r){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let o=r();return e._x_id[t]=o,n(()=>{delete e._x_id[t]}),o}G("el",e=>e),vo("Focus","focus","focus"),vo("Persist","persist","persist");function vo(e,t,n){G(t,r=>q(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}N("modelable",(e,{expression:t},{effect:n,evaluateLater:r,cleanup:o})=>{let i=r(t),a=()=>{let c;return i(d=>c=d),c},s=r(`${t} = __placeholder`),l=c=>s(()=>{},{scope:{__placeholder:c}}),u=a();l(u),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let c=e._x_model.get,d=e._x_model.set,h=Xr({get(){return c()},set(m){d(m)}},{get(){return a()},set(m){l(m)}});o(h)})}),N("teleport",(e,{modifiers:t,expression:n},{cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&q("x-teleport can only be used on a <template> tag",e);let o=yo(n),i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),i.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(s=>{i.addEventListener(s,l=>{l.stopPropagation(),e.dispatchEvent(new l.constructor(l.type,l))})}),Xe(i,{},e);let a=(s,l,u)=>{u.includes("prepend")?l.parentNode.insertBefore(s,l):u.includes("append")?l.parentNode.insertBefore(s,l.nextSibling):l.appendChild(s)};T(()=>{a(i,o,t),ue(()=>{re(i)})()}),e._x_teleportPutBack=()=>{let s=yo(n);T(()=>{a(e._x_teleport,s,t)})},r(()=>T(()=>{i.remove(),Le(i)}))});var Xa=document.createElement("div");function yo(e){let t=ue(()=>document.querySelector(e),()=>Xa)();return t||q(`Cannot find x-teleport element for selector: "${e}"`),t}var _o=()=>{};_o.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})},N("ignore",_o),N("effect",ue((e,{expression:t},{effect:n})=>{n(F(e,t))}));function Mn(e,t,n,r){let o=e,i=l=>r(l),a={},s=(l,u)=>c=>u(l,c);if(n.includes("dot")&&(t=qa(t)),n.includes("camel")&&(t=Ja(t)),n.includes("passive")&&(a.passive=!0),n.includes("capture")&&(a.capture=!0),n.includes("window")&&(o=window),n.includes("document")&&(o=document),n.includes("debounce")){let l=n[n.indexOf("debounce")+1]||"invalid-wait",u=Tt(l.split("ms")[0])?Number(l.split("ms")[0]):250;i=Wr(i,u)}if(n.includes("throttle")){let l=n[n.indexOf("throttle")+1]||"invalid-wait",u=Tt(l.split("ms")[0])?Number(l.split("ms")[0]):250;i=Kr(i,u)}return n.includes("prevent")&&(i=s(i,(l,u)=>{u.preventDefault(),l(u)})),n.includes("stop")&&(i=s(i,(l,u)=>{u.stopPropagation(),l(u)})),n.includes("once")&&(i=s(i,(l,u)=>{l(u),o.removeEventListener(t,i,a)})),(n.includes("away")||n.includes("outside"))&&(o=document,i=s(i,(l,u)=>{e.contains(u.target)||u.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&l(u))})),n.includes("self")&&(i=s(i,(l,u)=>{u.target===e&&l(u)})),(Ua(t)||wo(t))&&(i=s(i,(l,u)=>{Va(u,n)||l(u)})),o.addEventListener(t,i,a),()=>{o.removeEventListener(t,i,a)}}function qa(e){return e.replace(/-/g,".")}function Ja(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function Tt(e){return!Array.isArray(e)&&!isNaN(e)}function Ga(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Ua(e){return["keydown","keyup"].includes(e)}function wo(e){return["contextmenu","click","mouse"].some(t=>e.includes(t))}function Va(e,t){let n=t.filter(i=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(i));if(n.includes("debounce")){let i=n.indexOf("debounce");n.splice(i,Tt((n[i+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let i=n.indexOf("throttle");n.splice(i,Tt((n[i+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&bo(e.key).includes(n[0]))return!1;const o=["ctrl","shift","alt","meta","cmd","super"].filter(i=>n.includes(i));return n=n.filter(i=>!o.includes(i)),!(o.length>0&&o.filter(a=>((a==="cmd"||a==="super")&&(a="meta"),e[`${a}Key`])).length===o.length&&(wo(e.type)||bo(e.key).includes(n[0])))}function bo(e){if(!e)return[];e=Ga(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(n=>n)}N("model",(e,{modifiers:t,expression:n},{effect:r,cleanup:o})=>{let i=e;t.includes("parent")&&(i=e.parentNode);let a=F(i,n),s;typeof n=="string"?s=F(i,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?s=F(i,`${n()} = __placeholder`):s=()=>{};let l=()=>{let h;return a(m=>h=m),Eo(h)?h.get():h},u=h=>{let m;a(_=>m=_),Eo(m)?m.set(h):s(()=>{},{scope:{__placeholder:h}})};typeof n=="string"&&e.type==="radio"&&T(()=>{e.hasAttribute("name")||e.setAttribute("name",n)});var c=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let d=le?()=>{}:Mn(e,c,t,h=>{u(Ln(e,t,h,l()))});if(t.includes("fill")&&([void 0,null,""].includes(l())||En(e)&&Array.isArray(l())||e.tagName.toLowerCase()==="select"&&e.multiple)&&u(Ln(e,t,{target:e},l())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=d,o(()=>e._x_removeModelListeners.default()),e.form){let h=Mn(e.form,"reset",[],m=>{gn(()=>e._x_model&&e._x_model.set(Ln(e,t,{target:e},l())))});o(()=>h())}e._x_model={get(){return l()},set(h){u(h)}},e._x_forceModelUpdate=h=>{h===void 0&&typeof n=="string"&&n.match(/\./)&&(h=""),window.fromModel=!0,T(()=>jr(e,"value",h)),delete window.fromModel},r(()=>{let h=l();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(h)})});function Ln(e,t,n,r){return T(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail!==null&&n.detail!==void 0?n.detail:n.target.value;if(En(e))if(Array.isArray(r)){let o=null;return t.includes("number")?o=kn(n.target.value):t.includes("boolean")?o=bt(n.target.value):o=n.target.value,n.target.checked?r.includes(o)?r:r.concat([o]):r.filter(i=>!Za(i,o))}else return n.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(o=>{let i=o.value||o.text;return kn(i)}):t.includes("boolean")?Array.from(n.target.selectedOptions).map(o=>{let i=o.value||o.text;return bt(i)}):Array.from(n.target.selectedOptions).map(o=>o.value||o.text);{let o;return Yr(e)?n.target.checked?o=n.target.value:o=r:o=n.target.value,t.includes("number")?kn(o):t.includes("boolean")?bt(o):t.includes("trim")?o.trim():o}}})}function kn(e){let t=e?parseFloat(e):null;return Qa(t)?t:e}function Za(e,t){return e==t}function Qa(e){return!Array.isArray(e)&&!isNaN(e)}function Eo(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}N("cloak",e=>queueMicrotask(()=>T(()=>e.removeAttribute(Pe("cloak"))))),Rr(()=>`[${Pe("init")}]`),N("init",ue((e,{expression:t},{evaluate:n})=>typeof t=="string"?!!t.trim()&&n(t,{},!1):n(t,{},!1))),N("text",(e,{expression:t},{effect:n,evaluateLater:r})=>{let o=r(t);n(()=>{o(i=>{T(()=>{e.textContent=i})})})}),N("html",(e,{expression:t},{effect:n,evaluateLater:r})=>{let o=r(t);n(()=>{o(i=>{T(()=>{e.innerHTML=i,e._x_ignoreSelf=!0,re(e),delete e._x_ignoreSelf})})})}),dn(wr(":",br(Pe("bind:"))));var xo=(e,{value:t,modifiers:n,expression:r,original:o},{effect:i,cleanup:a})=>{if(!t){let l={};oa(l),F(e,r)(c=>{Gr(e,c,o)},{scope:l});return}if(t==="key")return es(e,r);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let s=F(e,r);i(()=>s(l=>{l===void 0&&typeof r=="string"&&r.match(/\./)&&(l=""),T(()=>jr(e,t,l,n))})),a(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};xo.inline=(e,{value:t,modifiers:n,expression:r})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:r,extract:!1})},N("bind",xo);function es(e,t){e._x_keyExpression=t}Tr(()=>`[${Pe("data")}]`),N("data",(e,{expression:t},{cleanup:n})=>{if(ts(e))return;t=t===""?"{}":t;let r={};an(r,e);let o={};aa(o,r);let i=_e(e,t,{scope:o});(i===void 0||i===!0)&&(i={}),an(i,e);let a=Re(i);dr(a);let s=Xe(e,a);a.init&&_e(e,a.init),n(()=>{a.destroy&&_e(e,a.destroy),s()})}),wt((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function ts(e){return le?bn?!0:e.hasAttribute("data-has-alpine-state"):!1}N("show",(e,{modifiers:t,expression:n},{effect:r})=>{let o=F(e,n);e._x_doHide||(e._x_doHide=()=>{T(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{T(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let i=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},s=()=>setTimeout(a),l=_n(d=>d?a():i(),d=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,d,a,i):d?s():i()}),u,c=!0;r(()=>o(d=>{!c&&d===u||(t.includes("immediate")&&(d?s():i()),l(d),u=d,c=!1)}))}),N("for",(e,{expression:t},{effect:n,cleanup:r})=>{let o=rs(t),i=F(e,o.items),a=F(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>ns(e,o,i,a)),r(()=>{Object.values(e._x_lookup).forEach(s=>T(()=>{Le(s),s.remove()})),delete e._x_prevKeys,delete e._x_lookup})});function ns(e,t,n,r){let o=a=>typeof a=="object"&&!Array.isArray(a),i=e;n(a=>{os(a)&&a>=0&&(a=Array.from(Array(a).keys(),p=>p+1)),a===void 0&&(a=[]);let s=e._x_lookup,l=e._x_prevKeys,u=[],c=[];if(o(a))a=Object.entries(a).map(([p,E])=>{let w=Co(t,E,p,a);r(A=>{c.includes(A)&&q("Duplicate key on x-for",e),c.push(A)},{scope:{index:p,...w}}),u.push(w)});else for(let p=0;p<a.length;p++){let E=Co(t,a[p],p,a);r(w=>{c.includes(w)&&q("Duplicate key on x-for",e),c.push(w)},{scope:{index:p,...E}}),u.push(E)}let d=[],h=[],m=[],_=[];for(let p=0;p<l.length;p++){let E=l[p];c.indexOf(E)===-1&&m.push(E)}l=l.filter(p=>!m.includes(p));let b="template";for(let p=0;p<c.length;p++){let E=c[p],w=l.indexOf(E);if(w===-1)l.splice(p,0,E),d.push([b,p]);else if(w!==p){let A=l.splice(p,1)[0],D=l.splice(w-1,1)[0];l.splice(p,0,D),l.splice(w,0,A),h.push([A,D])}else _.push(E);b=E}for(let p=0;p<m.length;p++){let E=m[p];E in s&&(T(()=>{Le(s[E]),s[E].remove()}),delete s[E])}for(let p=0;p<h.length;p++){let[E,w]=h[p],A=s[E],D=s[w],Y=document.createElement("div");T(()=>{D||q('x-for ":key" is undefined or invalid',i,w,s),D.after(Y),A.after(D),D._x_currentIfEl&&D.after(D._x_currentIfEl),Y.before(A),A._x_currentIfEl&&A.after(A._x_currentIfEl),Y.remove()}),D._x_refreshXForScope(u[c.indexOf(w)])}for(let p=0;p<d.length;p++){let[E,w]=d[p],A=E==="template"?i:s[E];A._x_currentIfEl&&(A=A._x_currentIfEl);let D=u[w],Y=c[w],j=document.importNode(i.content,!0).firstElementChild,ne=Re(D);Xe(j,ne,i),j._x_refreshXForScope=Ie=>{Object.entries(Ie).forEach(([z,Oe])=>{ne[z]=Oe})},T(()=>{A.after(j),ue(()=>re(j))()}),typeof Y=="object"&&q("x-for key cannot be an object, it must be a string or an integer",i),s[Y]=j}for(let p=0;p<_.length;p++)s[_[p]]._x_refreshXForScope(u[c.indexOf(_[p])]);i._x_prevKeys=c})}function rs(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,o=e.match(r);if(!o)return;let i={};i.items=o[2].trim();let a=o[1].replace(n,"").trim(),s=a.match(t);return s?(i.item=a.replace(t,"").trim(),i.index=s[1].trim(),s[2]&&(i.collection=s[2].trim())):i.item=a,i}function Co(e,t,n,r){let o={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(a=>a.trim()).forEach((a,s)=>{o[a]=t[s]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(a=>a.trim()).forEach(a=>{o[a]=t[a]}):o[e.item]=t,e.index&&(o[e.index]=n),e.collection&&(o[e.collection]=r),o}function os(e){return!Array.isArray(e)&&!isNaN(e)}function So(){}So.inline=(e,{expression:t},{cleanup:n})=>{let r=yt(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n(()=>delete r._x_refs[t])},N("ref",So),N("if",(e,{expression:t},{effect:n,cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&q("x-if can only be used on a <template> tag",e);let o=F(e,t),i=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let s=e.content.cloneNode(!0).firstElementChild;return Xe(s,{},e),T(()=>{e.after(s),ue(()=>re(s))()}),e._x_currentIfEl=s,e._x_undoIf=()=>{T(()=>{Le(s),s.remove()}),delete e._x_currentIfEl},s},a=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};n(()=>o(s=>{s?i():a()})),r(()=>e._x_undoIf&&e._x_undoIf())}),N("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(o=>Wa(e,o))}),wt((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)}),dn(wr("@",br(Pe("on:")))),N("on",ue((e,{value:t,modifiers:n,expression:r},{cleanup:o})=>{let i=r?F(e,r):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let a=Mn(e,t,n,s=>{i(()=>{},{scope:{$event:s},params:[s]})});o(()=>a())})),Rt("Collapse","collapse","collapse"),Rt("Intersect","intersect","intersect"),Rt("Focus","trap","focus"),Rt("Mask","mask","mask");function Rt(e,t,n){N(t,r=>q(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}Ze.setEvaluator(gr),Ze.setReactivityEngine({reactive:$n,effect:ga,release:va,raw:I});var is=Ze,C=is;function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ao(Object(n),!0).forEach(function(r){as(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $t(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$t=function(t){return typeof t}:$t=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(e)}function as(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function ss(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function ls(e,t){if(e==null)return{};var n=ss(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var us="1.15.2";function ie(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var ae=ie(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),tt=ie(/Edge/i),Do=ie(/firefox/i),nt=ie(/safari/i)&&!ie(/chrome/i)&&!ie(/android/i),Io=ie(/iP(ad|od|hone)/i),Oo=ie(/chrome/i)&&ie(/android/i),To={capture:!1,passive:!1};function S(e,t,n){e.addEventListener(t,n,!ae&&To)}function x(e,t,n){e.removeEventListener(t,n,!ae&&To)}function Nt(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function cs(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function V(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Nt(e,t):Nt(e,t))||r&&e===n)return e;if(e===n)break}while(e=cs(e))}return null}var Ro=/\s+/g;function W(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Ro," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Ro," ")}}function g(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function je(e,t){var n="";if(typeof e=="string")n=e;else do{var r=g(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function $o(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function te(){var e=document.scrollingElement;return e||document.documentElement}function P(e,t,n,r,o){if(!(!e.getBoundingClientRect&&e!==window)){var i,a,s,l,u,c,d;if(e!==window&&e.parentNode&&e!==te()?(i=e.getBoundingClientRect(),a=i.top,s=i.left,l=i.bottom,u=i.right,c=i.height,d=i.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!ae))do if(o&&o.getBoundingClientRect&&(g(o,"transform")!=="none"||n&&g(o,"position")!=="static")){var h=o.getBoundingClientRect();a-=h.top+parseInt(g(o,"border-top-width")),s-=h.left+parseInt(g(o,"border-left-width")),l=a+i.height,u=s+i.width;break}while(o=o.parentNode);if(r&&e!==window){var m=je(o||e),_=m&&m.a,b=m&&m.d;m&&(a/=b,s/=_,d/=_,c/=b,l=a+c,u=s+d)}return{top:a,left:s,bottom:l,right:u,width:d,height:c}}}function No(e,t,n){for(var r=fe(e,!0),o=P(e)[t];r;){var i=P(r)[n],a=void 0;if(a=o>=i,!a)return r;if(r===te())break;r=fe(r,!1)}return!1}function Fe(e,t,n,r){for(var o=0,i=0,a=e.children;i<a.length;){if(a[i].style.display!=="none"&&a[i]!==v.ghost&&(r||a[i]!==v.dragged)&&V(a[i],n.draggable,e,!1)){if(o===t)return a[i];o++}i++}return null}function jn(e,t){for(var n=e.lastElementChild;n&&(n===v.ghost||g(n,"display")==="none"||t&&!Nt(n,t));)n=n.previousElementSibling;return n||null}function J(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==v.clone&&(!t||Nt(e,t))&&n++;return n}function Po(e){var t=0,n=0,r=te();if(e)do{var o=je(e),i=o.a,a=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function ds(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function fe(e,t){if(!e||!e.getBoundingClientRect)return te();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=g(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return te();if(r||t)return n;r=!0}}while(n=n.parentNode);return te()}function fs(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Fn(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var rt;function Mo(e,t){return function(){if(!rt){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),rt=setTimeout(function(){rt=void 0},t)}}}function hs(){clearTimeout(rt),rt=void 0}function Lo(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ko(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function jo(e,t,n){var r={};return Array.from(e.children).forEach(function(o){var i,a,s,l;if(!(!V(o,t.draggable,e,!1)||o.animated||o===n)){var u=P(o);r.left=Math.min((i=r.left)!==null&&i!==void 0?i:1/0,u.left),r.top=Math.min((a=r.top)!==null&&a!==void 0?a:1/0,u.top),r.right=Math.max((s=r.right)!==null&&s!==void 0?s:-1/0,u.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,u.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var K="Sortable"+new Date().getTime();function ps(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(g(o,"display")==="none"||o===v.ghost)){e.push({target:o,rect:P(o)});var i=ee({},e[e.length-1].rect);if(o.thisAnimationDuration){var a=je(o,!0);a&&(i.top-=a.f,i.left-=a.e)}o.fromRect=i}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(ds(e,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var i=!1,a=0;e.forEach(function(s){var l=0,u=s.target,c=u.fromRect,d=P(u),h=u.prevFromRect,m=u.prevToRect,_=s.rect,b=je(u,!0);b&&(d.top-=b.f,d.left-=b.e),u.toRect=d,u.thisAnimationDuration&&Fn(h,d)&&!Fn(c,d)&&(_.top-d.top)/(_.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=gs(_,h,m,o.options)),Fn(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=o.options.animation),o.animate(u,_,d,l)),l&&(i=!0,a=Math.max(a,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(t),i?t=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),e=[]},animate:function(r,o,i,a){if(a){g(r,"transition",""),g(r,"transform","");var s=je(this.el),l=s&&s.a,u=s&&s.d,c=(o.left-i.left)/(l||1),d=(o.top-i.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,g(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=ms(r),g(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),g(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){g(r,"transition",""),g(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function ms(e){return e.offsetWidth}function gs(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Be=[],Bn={initializeByDefault:!0},ot={mount:function(t){for(var n in Bn)Bn.hasOwnProperty(n)&&!(n in t)&&(t[n]=Bn[n]);Be.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Be.push(t)},pluginEvent:function(t,n,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var i=t+"Global";Be.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][i]&&n[a.pluginName][i](ee({sortable:n},r)),n.options[a.pluginName]&&n[a.pluginName][t]&&n[a.pluginName][t](ee({sortable:n},r)))})},initializePlugins:function(t,n,r,o){Be.forEach(function(s){var l=s.pluginName;if(!(!t.options[l]&&!s.initializeByDefault)){var u=new s(t,n,t.options);u.sortable=t,u.options=t.options,t[l]=u,oe(r,u.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var a=this.modifyOption(t,i,t.options[i]);typeof a<"u"&&(t.options[i]=a)}},getEventProperties:function(t,n){var r={};return Be.forEach(function(o){typeof o.eventProperties=="function"&&oe(r,o.eventProperties.call(n[o.pluginName],t))}),r},modifyOption:function(t,n,r){var o;return Be.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(o=i.optionListeners[n].call(t[i.pluginName],r))}),o}};function vs(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,u=e.newIndex,c=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,m=e.putSortable,_=e.extraEventProperties;if(t=t||n&&n[K],!!t){var b,p=t.options,E="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!ae&&!tt?b=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(r,!0,!0)),b.to=a||n,b.from=s||n,b.item=o||n,b.clone=i,b.oldIndex=l,b.newIndex=u,b.oldDraggableIndex=c,b.newDraggableIndex=d,b.originalEvent=h,b.pullMode=m?m.lastPutMode:void 0;var w=ee(ee({},_),ot.getEventProperties(r,t));for(var A in w)b[A]=w[A];n&&n.dispatchEvent(b),p[E]&&p[E].call(t,b)}}var ys=["evt"],H=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,i=ls(r,ys);ot.pluginEvent.bind(v)(t,n,ee({dragEl:f,parentEl:$,ghostEl:y,rootEl:O,nextEl:Se,lastDownEl:Pt,cloneEl:R,cloneHidden:he,dragStarted:at,putSortable:L,activeSortable:v.active,originalEvent:o,oldIndex:ze,oldDraggableIndex:it,newIndex:X,newDraggableIndex:pe,hideGhostForTarget:Ko,unhideGhostForTarget:Xo,cloneNowHidden:function(){he=!0},cloneNowShown:function(){he=!1},dispatchSortableEvent:function(s){B({sortable:n,name:s,originalEvent:o})}},i))};function B(e){vs(ee({putSortable:L,cloneEl:R,targetEl:f,rootEl:O,oldIndex:ze,oldDraggableIndex:it,newIndex:X,newDraggableIndex:pe},e))}var f,$,y,O,Se,Pt,R,he,ze,X,it,pe,Mt,L,He=!1,Lt=!1,kt=[],Ae,Z,zn,Hn,Fo,Bo,at,Ye,st,lt=!1,jt=!1,Ft,k,Yn=[],Wn=!1,Bt=[],zt=typeof document<"u",Ht=Io,zo=tt||ae?"cssFloat":"float",_s=zt&&!Oo&&!Io&&"draggable"in document.createElement("div"),Ho=function(){if(zt){if(ae)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Yo=function(t,n){var r=g(t),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=Fe(t,0,n),a=Fe(t,1,n),s=i&&g(i),l=a&&g(a),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+P(i).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+P(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return i&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=o&&r[zo]==="none"||a&&r[zo]==="none"&&u+c>o)?"vertical":"horizontal"},ws=function(t,n,r){var o=r?t.left:t.top,i=r?t.right:t.bottom,a=r?t.width:t.height,s=r?n.left:n.top,l=r?n.right:n.bottom,u=r?n.width:n.height;return o===s||i===l||o+a/2===s+u/2},bs=function(t,n){var r;return kt.some(function(o){var i=o[K].options.emptyInsertThreshold;if(!(!i||jn(o))){var a=P(o),s=t>=a.left-i&&t<=a.right+i,l=n>=a.top-i&&n<=a.bottom+i;if(s&&l)return r=o}}),r},Wo=function(t){function n(i,a){return function(s,l,u,c){var d=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(i==null&&(a||d))return!0;if(i==null||i===!1)return!1;if(a&&i==="clone")return i;if(typeof i=="function")return n(i(s,l,u,c),a)(s,l,u,c);var h=(a?s:l).options.group.name;return i===!0||typeof i=="string"&&i===h||i.join&&i.indexOf(h)>-1}}var r={},o=t.group;(!o||$t(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=n(o.pull,!0),r.checkPut=n(o.put),r.revertClone=o.revertClone,t.group=r},Ko=function(){!Ho&&y&&g(y,"display","none")},Xo=function(){!Ho&&y&&g(y,"display","")};zt&&!Oo&&document.addEventListener("click",function(e){if(Lt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Lt=!1,!1},!0);var De=function(t){if(f){t=t.touches?t.touches[0]:t;var n=bs(t.clientX,t.clientY);if(n){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[K]._onDragOver(r)}}},Es=function(t){f&&f.parentNode[K]._isOutsideThisEl(t.target)};function v(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=oe({},t),e[K]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Yo(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:v.supportPointer!==!1&&"PointerEvent"in window&&!nt,emptyInsertThreshold:5};ot.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);Wo(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:_s,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?S(e,"pointerdown",this._onTapStart):(S(e,"mousedown",this._onTapStart),S(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(S(e,"dragover",this),S(e,"dragenter",this)),kt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),oe(this,ps())}v.prototype={constructor:v,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ye=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,f):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,o=this.options,i=o.preventOnFilter,a=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(s||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,c=o.filter;if(Ts(r),!f&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&nt&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=V(l,o.draggable,r,!1),!(l&&l.animated)&&Pt!==l)){if(ze=J(l),it=J(l,o.draggable),typeof c=="function"){if(c.call(this,t,l,this)){B({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),H("filter",n,{evt:t}),i&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=V(u,d.trim(),r,!1),d)return B({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),H("filter",n,{evt:t}),!0}),c)){i&&t.cancelable&&t.preventDefault();return}o.handle&&!V(u,o.handle,r,!1)||this._prepareDragStart(t,s,l)}}},_prepareDragStart:function(t,n,r){var o=this,i=o.el,a=o.options,s=i.ownerDocument,l;if(r&&!f&&r.parentNode===i){var u=P(r);if(O=i,f=r,$=f.parentNode,Se=f.nextSibling,Pt=r,Mt=a.group,v.dragged=f,Ae={target:f,clientX:(n||t).clientX,clientY:(n||t).clientY},Fo=Ae.clientX-u.left,Bo=Ae.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,f.style["will-change"]="all",l=function(){if(H("delayEnded",o,{evt:t}),v.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Do&&o.nativeDraggable&&(f.draggable=!0),o._triggerDragStart(t,n),B({sortable:o,name:"choose",originalEvent:t}),W(f,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){$o(f,c.trim(),Kn)}),S(s,"dragover",De),S(s,"mousemove",De),S(s,"touchmove",De),S(s,"mouseup",o._onDrop),S(s,"touchend",o._onDrop),S(s,"touchcancel",o._onDrop),Do&&this.nativeDraggable&&(this.options.touchStartThreshold=4,f.draggable=!0),H("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(tt||ae))){if(v.eventCanceled){this._onDrop();return}S(s,"mouseup",o._disableDelayedDrag),S(s,"touchend",o._disableDelayedDrag),S(s,"touchcancel",o._disableDelayedDrag),S(s,"mousemove",o._delayedDragTouchMoveHandler),S(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&S(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){f&&Kn(f),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;x(t,"mouseup",this._disableDelayedDrag),x(t,"touchend",this._disableDelayedDrag),x(t,"touchcancel",this._disableDelayedDrag),x(t,"mousemove",this._delayedDragTouchMoveHandler),x(t,"touchmove",this._delayedDragTouchMoveHandler),x(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?S(document,"pointermove",this._onTouchMove):n?S(document,"touchmove",this._onTouchMove):S(document,"mousemove",this._onTouchMove):(S(f,"dragend",this),S(O,"dragstart",this._onDragStart));try{document.selection?Wt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(He=!1,O&&f){H("dragStarted",this,{evt:n}),this.nativeDraggable&&S(document,"dragover",Es);var r=this.options;!t&&W(f,r.dragClass,!1),W(f,r.ghostClass,!0),v.active=this,t&&this._appendGhost(),B({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Z){this._lastX=Z.clientX,this._lastY=Z.clientY,Ko();for(var t=document.elementFromPoint(Z.clientX,Z.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Z.clientX,Z.clientY),t!==n);)n=t;if(f.parentNode[K]._isOutsideThisEl(t),n)do{if(n[K]){var r=void 0;if(r=n[K]._onDragOver({clientX:Z.clientX,clientY:Z.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);Xo()}},_onTouchMove:function(t){if(Ae){var n=this.options,r=n.fallbackTolerance,o=n.fallbackOffset,i=t.touches?t.touches[0]:t,a=y&&je(y,!0),s=y&&a&&a.a,l=y&&a&&a.d,u=Ht&&k&&Po(k),c=(i.clientX-Ae.clientX+o.x)/(s||1)+(u?u[0]-Yn[0]:0)/(s||1),d=(i.clientY-Ae.clientY+o.y)/(l||1)+(u?u[1]-Yn[1]:0)/(l||1);if(!v.active&&!He){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(y){a?(a.e+=c-(zn||0),a.f+=d-(Hn||0)):a={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");g(y,"webkitTransform",h),g(y,"mozTransform",h),g(y,"msTransform",h),g(y,"transform",h),zn=c,Hn=d,Z=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!y){var t=this.options.fallbackOnBody?document.body:O,n=P(f,!0,Ht,!0,t),r=this.options;if(Ht){for(k=t;g(k,"position")==="static"&&g(k,"transform")==="none"&&k!==document;)k=k.parentNode;k!==document.body&&k!==document.documentElement?(k===document&&(k=te()),n.top+=k.scrollTop,n.left+=k.scrollLeft):k=te(),Yn=Po(k)}y=f.cloneNode(!0),W(y,r.ghostClass,!1),W(y,r.fallbackClass,!0),W(y,r.dragClass,!0),g(y,"transition",""),g(y,"transform",""),g(y,"box-sizing","border-box"),g(y,"margin",0),g(y,"top",n.top),g(y,"left",n.left),g(y,"width",n.width),g(y,"height",n.height),g(y,"opacity","0.8"),g(y,"position",Ht?"absolute":"fixed"),g(y,"zIndex","100000"),g(y,"pointerEvents","none"),v.ghost=y,t.appendChild(y),g(y,"transform-origin",Fo/parseInt(y.style.width)*100+"% "+Bo/parseInt(y.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,o=t.dataTransfer,i=r.options;if(H("dragStart",this,{evt:t}),v.eventCanceled){this._onDrop();return}H("setupClone",this),v.eventCanceled||(R=ko(f),R.removeAttribute("id"),R.draggable=!1,R.style["will-change"]="",this._hideClone(),W(R,this.options.chosenClass,!1),v.clone=R),r.cloneId=Wt(function(){H("clone",r),!v.eventCanceled&&(r.options.removeCloneOnHide||O.insertBefore(R,f),r._hideClone(),B({sortable:r,name:"clone"}))}),!n&&W(f,i.dragClass,!0),n?(Lt=!0,r._loopId=setInterval(r._emulateDragOver,50)):(x(document,"mouseup",r._onDrop),x(document,"touchend",r._onDrop),x(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(r,o,f)),S(document,"drop",r),g(f,"transform","translateZ(0)")),He=!0,r._dragStartId=Wt(r._dragStarted.bind(r,n,t)),S(document,"selectstart",r),at=!0,nt&&g(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,o,i,a,s=this.options,l=s.group,u=v.active,c=Mt===l,d=s.sort,h=L||u,m,_=this,b=!1;if(Wn)return;function p(ht,Bs){H(ht,_,ee({evt:t,isOwner:c,axis:m?"vertical":"horizontal",revert:a,dragRect:o,targetRect:i,canSort:d,fromSortable:h,target:r,completed:w,onMove:function(Go,zs){return Yt(O,n,f,o,Go,P(Go),t,zs)},changed:A},Bs))}function E(){p("dragOverAnimationCapture"),_.captureAnimationState(),_!==h&&h.captureAnimationState()}function w(ht){return p("dragOverCompleted",{insertion:ht}),ht&&(c?u._hideClone():u._showClone(_),_!==h&&(W(f,L?L.options.ghostClass:u.options.ghostClass,!1),W(f,s.ghostClass,!0)),L!==_&&_!==v.active?L=_:_===v.active&&L&&(L=null),h===_&&(_._ignoreWhileAnimating=r),_.animateAll(function(){p("dragOverAnimationComplete"),_._ignoreWhileAnimating=null}),_!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===f&&!f.animated||r===n&&!r.animated)&&(Ye=null),!s.dragoverBubble&&!t.rootEl&&r!==document&&(f.parentNode[K]._isOutsideThisEl(t.target),!ht&&De(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),b=!0}function A(){X=J(f),pe=J(f,s.draggable),B({sortable:_,name:"change",toEl:n,newIndex:X,newDraggableIndex:pe,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=V(r,s.draggable,n,!0),p("dragOver"),v.eventCanceled)return b;if(f.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||_._ignoreWhileAnimating===r)return w(!1);if(Lt=!1,u&&!s.disabled&&(c?d||(a=$!==O):L===this||(this.lastPutMode=Mt.checkPull(this,u,f,t))&&l.checkPut(this,u,f,t))){if(m=this._getDirection(t,r)==="vertical",o=P(f),p("dragOverValid"),v.eventCanceled)return b;if(a)return $=O,E(),this._hideClone(),p("revert"),v.eventCanceled||(Se?O.insertBefore(f,Se):O.appendChild(f)),w(!0);var D=jn(n,s.draggable);if(!D||As(t,m,this)&&!D.animated){if(D===f)return w(!1);if(D&&n===t.target&&(r=D),r&&(i=P(r)),Yt(O,n,f,o,r,i,t,!!r)!==!1)return E(),D&&D.nextSibling?n.insertBefore(f,D.nextSibling):n.appendChild(f),$=n,A(),w(!0)}else if(D&&Ss(t,m,this)){var Y=Fe(n,0,s,!0);if(Y===f)return w(!1);if(r=Y,i=P(r),Yt(O,n,f,o,r,i,t,!1)!==!1)return E(),n.insertBefore(f,Y),$=n,A(),w(!0)}else if(r.parentNode===n){i=P(r);var j=0,ne,Ie=f.parentNode!==n,z=!ws(f.animated&&f.toRect||o,r.animated&&r.toRect||i,m),Oe=m?"top":"left",me=No(r,"top","top")||No(f,"top","top"),dt=me?me.scrollTop:void 0;Ye!==r&&(ne=i[Oe],lt=!1,jt=!z&&s.invertSwap||Ie),j=Ds(t,r,i,m,z?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,jt,Ye===r);var se;if(j!==0){var Te=J(f);do Te-=j,se=$.children[Te];while(se&&(g(se,"display")==="none"||se===y))}if(j===0||se===r)return w(!1);Ye=r,st=j;var ft=r.nextElementSibling,ge=!1;ge=j===1;var qt=Yt(O,n,f,o,r,i,t,ge);if(qt!==!1)return(qt===1||qt===-1)&&(ge=qt===1),Wn=!0,setTimeout(Cs,30),E(),ge&&!ft?n.appendChild(f):r.parentNode.insertBefore(f,ge?ft:r),me&&Lo(me,0,dt-me.scrollTop),$=f.parentNode,ne!==void 0&&!jt&&(Ft=Math.abs(ne-P(r)[Oe])),A(),w(!0)}if(n.contains(f))return w(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){x(document,"mousemove",this._onTouchMove),x(document,"touchmove",this._onTouchMove),x(document,"pointermove",this._onTouchMove),x(document,"dragover",De),x(document,"mousemove",De),x(document,"touchmove",De)},_offUpEvents:function(){var t=this.el.ownerDocument;x(t,"mouseup",this._onDrop),x(t,"touchend",this._onDrop),x(t,"pointerup",this._onDrop),x(t,"touchcancel",this._onDrop),x(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(X=J(f),pe=J(f,r.draggable),H("drop",this,{evt:t}),$=f&&f.parentNode,X=J(f),pe=J(f,r.draggable),v.eventCanceled){this._nulling();return}He=!1,jt=!1,lt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Xn(this.cloneId),Xn(this._dragStartId),this.nativeDraggable&&(x(document,"drop",this),x(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),nt&&g(document.body,"user-select",""),g(f,"transform",""),t&&(at&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),(O===$||L&&L.lastPutMode!=="clone")&&R&&R.parentNode&&R.parentNode.removeChild(R),f&&(this.nativeDraggable&&x(f,"dragend",this),Kn(f),f.style["will-change"]="",at&&!He&&W(f,L?L.options.ghostClass:this.options.ghostClass,!1),W(f,this.options.chosenClass,!1),B({sortable:this,name:"unchoose",toEl:$,newIndex:null,newDraggableIndex:null,originalEvent:t}),O!==$?(X>=0&&(B({rootEl:$,name:"add",toEl:$,fromEl:O,originalEvent:t}),B({sortable:this,name:"remove",toEl:$,originalEvent:t}),B({rootEl:$,name:"sort",toEl:$,fromEl:O,originalEvent:t}),B({sortable:this,name:"sort",toEl:$,originalEvent:t})),L&&L.save()):X!==ze&&X>=0&&(B({sortable:this,name:"update",toEl:$,originalEvent:t}),B({sortable:this,name:"sort",toEl:$,originalEvent:t})),v.active&&((X==null||X===-1)&&(X=ze,pe=it),B({sortable:this,name:"end",toEl:$,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){H("nulling",this),O=f=$=y=Se=R=Pt=he=Ae=Z=at=X=pe=ze=it=Ye=st=L=Mt=v.dragged=v.ghost=v.clone=v.active=null,Bt.forEach(function(t){t.checked=!0}),Bt.length=zn=Hn=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":f&&(this._onDragOver(t),xs(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,o=0,i=r.length,a=this.options;o<i;o++)n=r[o],V(n,a.draggable,this.el,!1)&&t.push(n.getAttribute(a.dataIdAttr)||Os(n));return t},sort:function(t,n){var r={},o=this.el;this.toArray().forEach(function(i,a){var s=o.children[a];V(s,this.options.draggable,o,!1)&&(r[i]=s)},this),n&&this.captureAnimationState(),t.forEach(function(i){r[i]&&(o.removeChild(r[i]),o.appendChild(r[i]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return V(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var o=ot.modifyOption(this,t,n);typeof o<"u"?r[t]=o:r[t]=n,t==="group"&&Wo(r)},destroy:function(){H("destroy",this);var t=this.el;t[K]=null,x(t,"mousedown",this._onTapStart),x(t,"touchstart",this._onTapStart),x(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(x(t,"dragover",this),x(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),kt.splice(kt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!he){if(H("hideClone",this),v.eventCanceled)return;g(R,"display","none"),this.options.removeCloneOnHide&&R.parentNode&&R.parentNode.removeChild(R),he=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(he){if(H("showClone",this),v.eventCanceled)return;f.parentNode==O&&!this.options.group.revertClone?O.insertBefore(R,f):Se?O.insertBefore(R,Se):O.appendChild(R),this.options.group.revertClone&&this.animate(f,R),g(R,"display",""),he=!1}}};function xs(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Yt(e,t,n,r,o,i,a,s){var l,u=e[K],c=u.options.onMove,d;return window.CustomEvent&&!ae&&!tt?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=i||P(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),c&&(d=c.call(u,l,a)),d}function Kn(e){e.draggable=!1}function Cs(){Wn=!1}function Ss(e,t,n){var r=P(Fe(n.el,0,n.options,!0)),o=jo(n.el,n.options,y),i=10;return t?e.clientX<o.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<o.top-i||e.clientY<r.bottom&&e.clientX<r.left}function As(e,t,n){var r=P(jn(n.el,n.options.draggable)),o=jo(n.el,n.options,y),i=10;return t?e.clientX>o.right+i||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>o.bottom+i||e.clientX>r.right&&e.clientY>r.top}function Ds(e,t,n,r,o,i,a,s){var l=r?e.clientY:e.clientX,u=r?n.height:n.width,c=r?n.top:n.left,d=r?n.bottom:n.right,h=!1;if(!a){if(s&&Ft<u*o){if(!lt&&(st===1?l>c+u*i/2:l<d-u*i/2)&&(lt=!0),lt)h=!0;else if(st===1?l<c+Ft:l>d-Ft)return-st}else if(l>c+u*(1-o)/2&&l<d-u*(1-o)/2)return Is(t)}return h=h||a,h&&(l<c+u*i/2||l>d-u*i/2)?l>c+u/2?1:-1:0}function Is(e){return J(f)<J(e)?1:-1}function Os(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Ts(e){Bt.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Bt.push(r)}}function Wt(e){return setTimeout(e,0)}function Xn(e){return clearTimeout(e)}zt&&S(document,"touchmove",function(e){(v.active||He)&&e.cancelable&&e.preventDefault()}),v.utils={on:S,off:x,css:g,find:$o,is:function(t,n){return!!V(t,n,t,!1)},extend:fs,throttle:Mo,closest:V,toggleClass:W,clone:ko,index:J,nextTick:Wt,cancelNextTick:Xn,detectDirection:Yo,getChild:Fe},v.get=function(e){return e[K]},v.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(v.utils=ee(ee({},v.utils),r.utils)),ot.mount(r)})},v.create=function(e,t){return new v(e,t)},v.version=us;var M=[],ut,qn,Jn=!1,Gn,Un,Kt,ct;function Rs(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):this.options.supportPointer?S(document,"pointermove",this._handleFallbackAutoScroll):r.touches?S(document,"touchmove",this._handleFallbackAutoScroll):S(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?x(document,"dragover",this._handleAutoScroll):(x(document,"pointermove",this._handleFallbackAutoScroll),x(document,"touchmove",this._handleFallbackAutoScroll),x(document,"mousemove",this._handleFallbackAutoScroll)),qo(),Xt(),hs()},nulling:function(){Kt=qn=ut=Jn=ct=Gn=Un=null,M.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var o=this,i=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(i,a);if(Kt=n,r||this.options.forceAutoScrollFallback||tt||ae||nt){Vn(n,this.options,s,r);var l=fe(s,!0);Jn&&(!ct||i!==Gn||a!==Un)&&(ct&&qo(),ct=setInterval(function(){var u=fe(document.elementFromPoint(i,a),!0);u!==l&&(l=u,Xt()),Vn(n,o.options,u,r)},10),Gn=i,Un=a)}else{if(!this.options.bubbleScroll||fe(s,!0)===te()){Xt();return}Vn(n,this.options,fe(s,!1),!1)}}},oe(e,{pluginName:"scroll",initializeByDefault:!0})}function Xt(){M.forEach(function(e){clearInterval(e.pid)}),M=[]}function qo(){clearInterval(ct)}var Vn=Mo(function(e,t,n,r){if(t.scroll){var o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,s=t.scrollSpeed,l=te(),u=!1,c;qn!==n&&(qn=n,Xt(),ut=t.scroll,c=t.scrollFn,ut===!0&&(ut=fe(n,!0)));var d=0,h=ut;do{var m=h,_=P(m),b=_.top,p=_.bottom,E=_.left,w=_.right,A=_.width,D=_.height,Y=void 0,j=void 0,ne=m.scrollWidth,Ie=m.scrollHeight,z=g(m),Oe=m.scrollLeft,me=m.scrollTop;m===l?(Y=A<ne&&(z.overflowX==="auto"||z.overflowX==="scroll"||z.overflowX==="visible"),j=D<Ie&&(z.overflowY==="auto"||z.overflowY==="scroll"||z.overflowY==="visible")):(Y=A<ne&&(z.overflowX==="auto"||z.overflowX==="scroll"),j=D<Ie&&(z.overflowY==="auto"||z.overflowY==="scroll"));var dt=Y&&(Math.abs(w-o)<=a&&Oe+A<ne)-(Math.abs(E-o)<=a&&!!Oe),se=j&&(Math.abs(p-i)<=a&&me+D<Ie)-(Math.abs(b-i)<=a&&!!me);if(!M[d])for(var Te=0;Te<=d;Te++)M[Te]||(M[Te]={});(M[d].vx!=dt||M[d].vy!=se||M[d].el!==m)&&(M[d].el=m,M[d].vx=dt,M[d].vy=se,clearInterval(M[d].pid),(dt!=0||se!=0)&&(u=!0,M[d].pid=setInterval((function(){r&&this.layer===0&&v.active._onTouchMove(Kt);var ft=M[this.layer].vy?M[this.layer].vy*s:0,ge=M[this.layer].vx?M[this.layer].vx*s:0;typeof c=="function"&&c.call(v.dragged.parentNode[K],ge,ft,e,Kt,M[this.layer].el)!=="continue"||Lo(M[this.layer].el,ge,ft)}).bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==l&&(h=fe(h,!1)));Jn=u}},30),Jo=function(t){var n=t.originalEvent,r=t.putSortable,o=t.dragEl,i=t.activeSortable,a=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(n){var u=r||i;s();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(a("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function Zn(){}Zn.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=Fe(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:Jo},oe(Zn,{pluginName:"revertOnSpill"});function Qn(){}Qn.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,o=r||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:Jo},oe(Qn,{pluginName:"removeOnSpill"}),v.mount(new Rs),v.mount(Qn,Zn);var $s=v;function Ns(e){e.directive("sort",(t,{value:n,modifiers:r,expression:o},{effect:i,evaluate:a,evaluateLater:s,cleanup:l})=>{if(n==="config"||n==="handle"||n==="group")return;if(n==="key"||n==="item"){if([void 0,null,""].includes(o))return;t._x_sort_key=a(o);return}let u={hideGhost:!r.includes("ghost"),useHandles:!!t.querySelector("[x-sort\\:handle]"),group:js(t,r)},c=Ps(o,s),d=Ms(t,r,a),h=Ls(t,d,u,(m,_)=>{c(m,_)});l(()=>h.destroy())})}function Ps(e,t){if([void 0,null,""].includes(e))return()=>{};let n=t(e);return(r,o)=>{Alpine.dontAutoEvaluateFunctions(()=>{n(i=>{typeof i=="function"&&i(r,o)},{scope:{$key:r,$item:r,$position:o}})})}}function Ms(e,t,n){return e.hasAttribute("x-sort:config")?n(e.getAttribute("x-sort:config")):{}}function Ls(e,t,n,r){let o,i={animation:150,handle:n.useHandles?"[x-sort\\:handle]":null,group:n.group,filter(a){return e.querySelector("[x-sort\\:item]")?!a.target.closest("[x-sort\\:item]"):!1},onSort(a){if(a.from!==a.to&&a.to!==a.target)return;let s=a.item._x_sort_key,l=a.newIndex;(s!==void 0||s!==null)&&r(s,l)},onStart(){document.body.classList.add("sorting"),o=document.querySelector(".sortable-ghost"),n.hideGhost&&o&&(o.style.opacity="0")},onEnd(){document.body.classList.remove("sorting"),n.hideGhost&&o&&(o.style.opacity="1"),o=void 0,ks(e)}};return new $s(e,{...i,...t})}function ks(e){let t=e.firstChild;for(;t.nextSibling;){if(t.textContent.trim()==="[if ENDBLOCK]><![endif]"){e.append(t);break}t=t.nextSibling}}function js(e,t){return e.hasAttribute("x-sort:group")?e.getAttribute("x-sort:group"):t.indexOf("group")!==-1?t[t.indexOf("group")+1]:null}var Fs=Ns;/*! Bundled license information:

    sortablejs/modular/sortable.esm.js:
      (**!
       * Sortable 1.15.2
       * @author	RubaXa   <trash@rubaxa.org>
       * @author	owenm    <owen23355@gmail.com>
       * @license MIT
       *)
    */C.plugin(Fs),window.addEventListener("alpine:init",()=>{C.data("filamentor",()=>({showSettings:!1,activeRow:null,activeColumn:null,activeColumnIndex:null,activeElement:null,activeElementIndex:null,rowToDelete:null,columnToDeleteRowId:null,columnToDeleteIndex:null,elementData:{text:{content:null},image:{url:null,alt:null,thumbnail:null},video:{url:null}},...Uo(),init(){try{if(!this.$refs.canvasData){console.warn("Canvas data reference not found");return}const e=this.$refs.canvasData.value;if(e)try{const t=JSON.parse(e);if(!Array.isArray(t)){console.error("Parsed layout is not an array");return}const n=t.sort((r,o)=>{const i=r.order!==void 0?r.order:0,a=o.order!==void 0?o.order:0;return i-a});C.store("rows").setRows(n)}catch(t){console.error("Failed to parse layout JSON:",t),C.store("rows").setRows([])}}catch(e){console.error("Error initializing builder:",e),C.store("rows").setRows([])}},openRowSettings(e){try{if(!e||!e.id){console.error("Invalid row provided to openRowSettings");return}if(this.activeRow=C.store("rows").items.find(t=>t.id===e.id),!this.activeRow){console.error(`Row with id ${e.id} not found`);return}this.activeRow.padding=this.activeRow.padding||{top:0,right:0,bottom:0,left:0},this.activeRow.margin=this.activeRow.margin||{top:0,right:0,bottom:0,left:0},this.activeRow.customClasses=this.activeRow.customClasses||"",this.showSettings=!0}catch(t){console.error("Error opening row settings:",t),this.activeRow=null,this.showSettings=!1}},saveRowSettings(){try{if(!this.activeRow){console.warn("No active row to save");return}if(!this.activeRow.id){console.error("Active row missing ID property");return}const e=C.store("rows").items.findIndex(o=>o.id===this.activeRow.id);if(e===-1){console.error(`Row with id ${this.activeRow.id} not found in rows store`);return}const t=this.activeRow.padding||{},n=this.activeRow.margin||{},r={...this.activeRow,padding:{top:this.safeParseNumber(t.top),right:this.safeParseNumber(t.right),bottom:this.safeParseNumber(t.bottom),left:this.safeParseNumber(t.left)},margin:{top:this.safeParseNumber(n.top),right:this.safeParseNumber(n.right),bottom:this.safeParseNumber(n.bottom),left:this.safeParseNumber(n.left)}};C.store("rows").items[e]=r;try{const o=JSON.stringify(C.store("rows").items);if(!this.$refs.canvasData){console.error("Canvas data reference not found");return}this.$refs.canvasData.value=o,this.$wire.saveLayout(o).then(i=>{i&&i.success?console.log("Layout saved successfully"):console.warn("Layout save returned unexpected result",i)}).catch(i=>{console.error("Error saving layout:",i)})}catch(o){console.error("Error stringifying layout data:",o)}}catch(e){console.error("Error in saveRowSettings:",e)}},addRow(){try{const e=Date.now(),t={id:e,order:C.store("rows").items.length,padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},customClasses:"",columns:[{id:e+1,width:"w-full",padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},customClasses:"",elements:[],order:0}]};if(!C.store("rows")||!Array.isArray(C.store("rows").items)){console.error("Rows store not properly initialized");return}C.store("rows").items.push(t),this.updateCanvasData();try{const n=JSON.stringify(C.store("rows").items);this.$wire.saveLayout(n).then(r=>{r&&r.success?console.log("Row added and layout saved successfully"):console.warn("Layout saved but returned unexpected result",r)}).catch(r=>{console.error("Error saving layout after adding row:",r)})}catch(n){console.error("Error stringifying layout after adding row:",n)}}catch(e){console.error("Error adding new row:",e),this.updateCanvasData()}},deleteRow(e){try{if(!e||typeof e!="object"||!e.id){console.error("Invalid row provided for deletion");return}if(!Array.isArray(e.columns)){console.warn("Row has no columns array, proceeding with deletion"),this.performRowDeletion(e);return}e.columns.some(n=>n.elements&&Array.isArray(n.elements)&&n.elements.length>0)?(this.rowToDelete=e,this.$dispatch("open-modal",{id:"confirm-row-deletion"})):this.performRowDeletion(e)}catch(t){console.error("Error during row deletion process:",t),this.rowToDelete=null}},confirmRowDeletion(){try{if(!this.rowToDelete||!this.rowToDelete.id){console.error("No valid row to delete"),this.$dispatch("close-modal",{id:"confirm-row-deletion"});return}this.performRowDeletion(this.rowToDelete),this.$dispatch("close-modal",{id:"confirm-row-deletion"}),this.rowToDelete=null}catch(e){console.error("Error during row deletion confirmation:",e),this.$dispatch("close-modal",{id:"confirm-row-deletion"}),this.rowToDelete=null}},performRowDeletion(e){try{if(!e||!e.id){console.error("Invalid row provided to performRowDeletion");return}if(!C.store("rows")||!Array.isArray(C.store("rows").items)){console.error("Rows store not properly initialized");return}const t=C.store("rows").items.findIndex(n=>n.id===e.id);if(t>-1){C.store("rows").items.splice(t,1),C.store("rows").items=C.store("rows").items.map((n,r)=>({...n,order:r}));try{const n=JSON.stringify(C.store("rows").items);this.updateCanvasData(),this.$wire.saveLayout(n).then(r=>{r&&r.success?console.log("Row deleted and layout saved successfully"):console.warn("Layout saved after deletion but returned unexpected result",r)}).catch(r=>{console.error("Error saving layout after row deletion:",r)})}catch(n){console.error("Error stringifying layout after row deletion:",n)}}else console.warn(`Row with id ${e.id} not found in rows store`)}catch(t){console.error("Error performing row deletion:",t),this.updateCanvasData()}},openColumnSettings(e,t){try{if(!e||!e.id){console.error("Invalid row provided to openColumnSettings");return}if(!t||!t.id){console.error("Invalid column provided to openColumnSettings");return}this.activeRow=e,this.activeColumn=t,this.activeColumn.padding=this.activeColumn.padding||{top:0,right:0,bottom:0,left:0},this.activeColumn.margin=this.activeColumn.margin||{top:0,right:0,bottom:0,left:0},this.activeColumn.customClasses=this.activeColumn.customClasses||"",typeof this.activeColumn.padding=="object"&&(this.activeColumn.padding.top=this.safeParseNumber(this.activeColumn.padding.top),this.activeColumn.padding.right=this.safeParseNumber(this.activeColumn.padding.right),this.activeColumn.padding.bottom=this.safeParseNumber(this.activeColumn.padding.bottom),this.activeColumn.padding.left=this.safeParseNumber(this.activeColumn.padding.left)),typeof this.activeColumn.margin=="object"&&(this.activeColumn.margin.top=this.safeParseNumber(this.activeColumn.margin.top),this.activeColumn.margin.right=this.safeParseNumber(this.activeColumn.margin.right),this.activeColumn.margin.bottom=this.safeParseNumber(this.activeColumn.margin.bottom),this.activeColumn.margin.left=this.safeParseNumber(this.activeColumn.margin.left))}catch(n){console.error("Error opening column settings:",n),this.activeRow=null,this.activeColumn=null}},saveColumnSettings(){try{if(!this.activeColumn||!this.activeColumn.id){console.error("No valid column to save settings for"),this.$dispatch("close-modal",{id:"column-settings-modal"});return}if(!this.activeRow||!this.activeRow.id){console.error("No valid parent row for column settings"),this.$dispatch("close-modal",{id:"column-settings-modal"});return}const e=C.store("rows").items,t=e.findIndex(r=>r.id===this.activeRow.id);if(t===-1){console.error(`Row with id ${this.activeRow.id} not found in rows store`),this.$dispatch("close-modal",{id:"column-settings-modal"});return}const n=e[t].columns.findIndex(r=>r.id===this.activeColumn.id);if(n===-1){console.error(`Column with id ${this.activeColumn.id} not found in row`),this.$dispatch("close-modal",{id:"column-settings-modal"});return}e[t].columns[n]={...this.activeColumn,padding:{top:this.safeParseNumber(this.activeColumn.padding.top),right:this.safeParseNumber(this.activeColumn.padding.right),bottom:this.safeParseNumber(this.activeColumn.padding.bottom),left:this.safeParseNumber(this.activeColumn.padding.left)},margin:{top:this.safeParseNumber(this.activeColumn.margin.top),right:this.safeParseNumber(this.activeColumn.margin.right),bottom:this.safeParseNumber(this.activeColumn.margin.bottom),left:this.safeParseNumber(this.activeColumn.margin.left)}};try{const r=JSON.stringify(e);this.updateCanvasData(),this.$wire.saveLayout(r).then(o=>{o&&o.success?console.log("Column settings saved successfully"):console.warn("Layout saved but returned unexpected result",o)}).catch(o=>{console.error("Error saving layout after column settings update:",o)}),this.$dispatch("close-modal",{id:"column-settings-modal"})}catch(r){console.error("Error stringifying layout after column settings update:",r),this.$dispatch("close-modal",{id:"column-settings-modal"})}}catch(e){console.error("Error saving column settings:",e),this.$dispatch("close-modal",{id:"column-settings-modal"})}},addColumn(e){try{if(!e||typeof e!="object"||!e.id){console.error("Invalid row provided to addColumn");return}Array.isArray(e.columns)||(console.warn("Row has no columns array, initializing empty array"),e.columns=[]);const n={id:Date.now(),elements:[],order:e.columns.length,width:"w-full",padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},customClasses:""},r=[...e.columns,n];e.columns=r,this.$nextTick(()=>{try{const o=C.store("rows").items;if(!o||!Array.isArray(o)){console.error("Rows store not properly initialized");return}if(o.findIndex(s=>s.id===e.id)===-1){console.error(`Row with id ${e.id} not found in rows store`);return}this.updateCanvasData();const a=JSON.stringify(o);this.$wire.saveLayout(a).then(s=>{s&&s.success?console.log("Column added and layout saved successfully"):console.warn("Layout saved but returned unexpected result",s)}).catch(s=>{console.error("Error saving layout after adding column:",s)})}catch(o){console.error("Error processing or saving layout after adding column:",o)}})}catch(t){console.error("Error adding new column:",t)}},updateColumns(e){try{if(!this.activeRow||typeof this.activeRow!="object"){console.error("No active row to update columns for");return}Array.isArray(this.activeRow.columns)||(console.warn("Active row has no columns array, initializing empty array"),this.activeRow.columns=[]);const t=parseInt(e);if(isNaN(t)||t<1){console.error(`Invalid column count: ${e}`);return}const n=this.activeRow.columns;if(t>n.length)try{const r=t-n.length,o=Date.now();for(let a=0;a<r;a++)n.push({id:o+a,elements:[],order:n.length,width:"w-full",padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},customClasses:""});this.activeRow.columns.forEach((a,s)=>{a.order=s});const i=C.store("rows").items;if(!i||!Array.isArray(i)){console.error("Rows store not properly initialized");return}this.updateCanvasData();try{const a=JSON.stringify(i);this.$wire.saveLayout(a).then(s=>{s&&s.success?console.log("Columns added and layout saved successfully"):console.warn("Layout saved but returned unexpected result",s)}).catch(s=>{console.error("Error saving layout after adding columns:",s)})}catch(a){console.error("Error stringifying layout after adding columns:",a)}}catch(r){console.error("Error adding columns:",r)}else if(t<n.length)try{this.newColumnCount=t,this.activeRow.columns.slice(t).some(i=>i.elements&&Array.isArray(i.elements)&&i.elements.length>0)?this.$dispatch("open-modal",{id:"confirm-column-reduction"}):this.confirmColumnReduction()}catch(r){console.error("Error preparing column reduction:",r)}else console.log("Column count unchanged")}catch(t){console.error("Error updating columns:",t)}},deleteColumn(e,t){try{if(!e||typeof e!="object"||!e.id){console.error("Invalid row provided to deleteColumn");return}if(t===void 0||isNaN(parseInt(t))){console.error("Invalid column index provided to deleteColumn");return}const n=C.store("rows").items;if(!n||!Array.isArray(n)){console.error("Rows store not properly initialized");return}const r=n.findIndex(a=>a.id===e.id);if(r===-1){console.error(`Row with id ${e.id} not found in rows store`);return}if(!Array.isArray(n[r].columns)){console.error(`Row with id ${e.id} has no valid columns array`);return}if(t<0||t>=n[r].columns.length){console.error(`Column index ${t} out of bounds for row with id ${e.id}`);return}const o=n[r].columns[t];o&&o.elements&&Array.isArray(o.elements)&&o.elements.length>0?(this.columnToDeleteRowId=e.id,this.columnToDeleteIndex=t,this.$dispatch("open-modal",{id:"confirm-column-deletion"})):this.performColumnDeletion(e.id,t)}catch(n){console.error("Error during column deletion process:",n),this.columnToDeleteRowId=null,this.columnToDeleteIndex=null}},confirmColumnDeletion(){try{if(this.columnToDeleteRowId===null||this.columnToDeleteIndex===null){console.error("No valid column to delete"),this.$dispatch("close-modal",{id:"confirm-column-deletion"});return}this.performColumnDeletion(this.columnToDeleteRowId,this.columnToDeleteIndex),this.$dispatch("close-modal",{id:"confirm-column-deletion"}),this.columnToDeleteRowId=null,this.columnToDeleteIndex=null}catch(e){console.error("Error during column deletion confirmation:",e),this.$dispatch("close-modal",{id:"confirm-column-deletion"}),this.columnToDeleteRowId=null,this.columnToDeleteIndex=null}},performColumnDeletion(e,t){try{if(e==null){console.error("Invalid rowId provided to performColumnDeletion");return}if(t==null||isNaN(parseInt(t))){console.error("Invalid columnIndex provided to performColumnDeletion");return}const n=C.store("rows").items;if(!n||!Array.isArray(n)){console.error("Rows store not properly initialized");return}const r=n.findIndex(o=>o.id===e);if(r===-1){console.error(`Row with id ${e} not found in rows store`);return}if(!Array.isArray(n[r].columns)){console.error(`Row with id ${e} has no valid columns array`);return}if(t<0||t>=n[r].columns.length){console.error(`Column index ${t} out of bounds for row with id ${e}`);return}if(n[r].columns.length===1){const o=Date.now();n[r].columns=[{id:n[r].columns[0].id,elements:[],order:0,width:"w-full",padding:{top:0,right:0,bottom:0,left:0},margin:{top:0,right:0,bottom:0,left:0},customClasses:""}],console.log("Column content cleared instead of deletion, as it was the last column in the row")}else n[r].columns.splice(t,1),n[r].columns=n[r].columns.map((o,i)=>({...o,order:i}));this.updateCanvasData();try{const o=JSON.stringify(n);this.$wire.saveLayout(o).then(i=>{i&&i.success?console.log("Layout updated and saved successfully"):console.warn("Layout saved but returned unexpected result",i)}).catch(i=>{console.error("Error saving layout after column operation:",i)})}catch(o){console.error("Error stringifying layout after column operation:",o)}}catch(n){console.error("Error performing column deletion:",n),this.updateCanvasData()}},setActiveColumn(e,t){try{if(!e||typeof e!="object"||!e.id){console.error("Invalid row provided to setActiveColumn");return}if(t==null||isNaN(parseInt(t))){console.error("Invalid column index provided to setActiveColumn");return}const n=C.store("rows").items;if(!n||!Array.isArray(n)){console.error("Rows store not properly initialized");return}const r=n.find(i=>i.id===e.id);if(!r){console.error(`Row with id ${e.id} not found in rows store`);return}if(t<0||t>=r.columns.length){console.error(`Column index ${t} out of bounds for row with id ${e.id}`);return}const o=r.columns[t];if(o.elements&&Array.isArray(o.elements)&&o.elements.length>0){console.warn("Column already has an element. Only one element per column is allowed.");return}this.activeRow=r,this.activeColumnIndex=t,this.$dispatch("open-modal",{id:"element-picker-modal"})}catch(n){console.error("Error setting active column:",n),this.activeRow=null,this.activeColumnIndex=null}},addElement(e){try{if(!e||typeof e!="string"){console.error("Invalid element type provided to addElement");return}if(!this.activeRow||this.activeColumnIndex===null){console.error("No active row or column to add element to"),this.$dispatch("close-modal",{id:"element-picker-modal"});return}const t=C.store("rows").items;if(!t||!Array.isArray(t)){console.error("Rows store not properly initialized"),this.$dispatch("close-modal",{id:"element-picker-modal"});return}const n=t.findIndex(s=>s.id===this.activeRow.id);if(n===-1){console.error(`Row with id ${this.activeRow.id} not found in rows store`),this.$dispatch("close-modal",{id:"element-picker-modal"});return}const r=t[n];if(!Array.isArray(r.columns)){console.error(`Row with id ${r.id} has no valid columns array`),this.$dispatch("close-modal",{id:"element-picker-modal"});return}if(this.activeColumnIndex<0||this.activeColumnIndex>=r.columns.length){console.error(`Column index ${this.activeColumnIndex} out of bounds for row with id ${r.id}`),this.$dispatch("close-modal",{id:"element-picker-modal"});return}const o=r.columns[this.activeColumnIndex];if(!Array.isArray(o.elements))o.elements=[];else if(o.elements.length>0){console.warn("Column already has an element. Only one element per column is allowed."),this.$dispatch("close-modal",{id:"element-picker-modal"});return}const i=e.replace(/Filamentor/,"\\Filamentor\\").replace(/Elements/,"Elements\\");let a={};i.includes("Text")?a={text:""}:i.includes("Image")?a={url:null,alt:"",thumbnail:null}:i.includes("Video")&&(a={url:""}),t[n].columns[this.activeColumnIndex].elements.push({id:Date.now(),type:i,content:a}),this.updateCanvasData();try{const s=JSON.stringify(t);this.$wire.saveLayout(s).then(l=>{l&&l.success?console.log("Element added and layout saved successfully"):console.warn("Layout saved but returned unexpected result",l)}).catch(l=>{console.error("Error saving layout after adding element:",l)})}catch(s){console.error("Error stringifying layout after adding element:",s)}this.$dispatch("close-modal",{id:"element-picker-modal"}),this.activeRow=null,this.activeColumnIndex=null}catch(t){console.error("Error adding element:",t),this.$dispatch("close-modal",{id:"element-picker-modal"}),this.activeRow=null,this.activeColumnIndex=null}},editElement(e,t,n=0){try{if(!e||typeof e!="object"||!e.id){console.error("Invalid row provided to editElement");return}if(t==null||isNaN(parseInt(t))){console.error("Invalid column index provided to editElement");return}if(n==null||isNaN(parseInt(n))){console.error("Invalid element index provided to editElement");return}const r=C.store("rows").items;if(!r||!Array.isArray(r)){console.error("Rows store not properly initialized");return}const o=r.find(u=>u.id===e.id);if(!o){console.error(`Row with id ${e.id} not found in rows store`);return}if(!Array.isArray(o.columns)||t>=o.columns.length){console.error(`Column index ${t} out of bounds for row with id ${e.id}`);return}const i=o.columns[t];if(!Array.isArray(i.elements)||i.elements.length===0){console.error(`No elements found in column ${t} of row with id ${e.id}`);return}if(n>=i.elements.length){console.error(`Element index ${n} out of bounds for column ${t}`);return}const a=i.elements[n];if(!a||!a.type){console.error(`Invalid element at index ${n}`);return}this.activeRow=o,this.activeColumnIndex=t,this.activeElementIndex=n,this.activeElement=a;const s=a.type;if(!s){console.error("Element has no type");return}try{this.$wire.set("elementData",{text:{content:null},image:{url:null,alt:null,thumbnail:null},video:{url:null}})}catch(u){console.error("Error resetting element data:",u);return}try{if(s.includes("Text")){const u=a.content&&typeof a.content.text<"u"?a.content.text:"";this.$wire.set("elementData.text.content",u)}else if(s.includes("Image")){const u={url:a.content&&a.content.url?a.content.url:null,alt:a.content&&a.content.alt?a.content.alt:"",thumbnail:a.content&&a.content.thumbnail?a.content.thumbnail:null};this.$wire.set("elementData.image",u)}else if(s.includes("Video")){const u=a.content&&a.content.url?a.content.url:"";this.$wire.set("elementData.video.url",u)}else console.warn(`Unknown element type: ${s}`)}catch(u){console.error("Error setting element data:",u);return}try{this.$wire.editElement(s,a.content||{},a.id).catch(u=>{console.error("Error in Livewire editElement method:",u)})}catch(u){console.error("Error calling Livewire editElement method:",u);return}const l=s.split("\\").pop()||"Unknown";this.$dispatch("open-modal",{id:"element-editor-modal",title:`Edit ${l} Element`})}catch(r){console.error("Error editing element:",r),this.activeRow=null,this.activeColumnIndex=null,this.activeElementIndex=null,this.activeElement=null}},saveElementContent(e){try{if(!this.activeElement){console.error("No active element to save content for"),this.$dispatch("close-modal",{id:"element-editor-modal"});return}if(!this.activeRow||this.activeColumnIndex===null||this.activeElementIndex===null){console.error("Missing required references for element update"),this.$dispatch("close-modal",{id:"element-editor-modal"});return}const t=C.store("rows").items;if(!t||!Array.isArray(t)){console.error("Rows store not properly initialized"),this.$dispatch("close-modal",{id:"element-editor-modal"});return}const n=t.findIndex(s=>s.id===this.activeRow.id);if(n===-1){console.error(`Row with id ${this.activeRow.id} not found in rows store`),this.$dispatch("close-modal",{id:"element-editor-modal"});return}const r=t[n];if(!Array.isArray(r.columns)||this.activeColumnIndex>=r.columns.length){console.error(`Column index ${this.activeColumnIndex} out of bounds for row with id ${r.id}`),this.$dispatch("close-modal",{id:"element-editor-modal"});return}const o=r.columns[this.activeColumnIndex];if(!Array.isArray(o.elements)||this.activeElementIndex>=o.elements.length){console.error(`Element index ${this.activeElementIndex} out of bounds for column ${this.activeColumnIndex}`),this.$dispatch("close-modal",{id:"element-editor-modal"});return}const i=this.activeElement.type,a=()=>{try{const s=JSON.stringify(t);this.$wire.saveLayout(s).then(l=>{l&&l.success?console.log("Element content updated and layout saved successfully"):console.warn("Layout saved but returned unexpected result",l),this.$dispatch("close-modal",{id:"element-editor-modal"})}).catch(l=>{console.error("Error saving layout after updating element content:",l),this.$dispatch("close-modal",{id:"element-editor-modal"})})}catch(s){console.error("Error processing layout data:",s),this.$dispatch("close-modal",{id:"element-editor-modal"})}};if(i.includes("Image")){const s=this.$wire.get("elementData.image.alt")||"";this.$wire.uploadMedia().then(l=>{if(l&&l.url)t[n].columns[this.activeColumnIndex].elements[this.activeElementIndex]={...this.activeElement,content:{url:l.url,thumbnail:l.thumbnail,alt:s}};else{const u=this.activeElement.content||{};t[n].columns[this.activeColumnIndex].elements[this.activeElementIndex]={...this.activeElement,content:{url:u.url||"",thumbnail:u.thumbnail||"",alt:s}}}a()}).catch(l=>{console.error("Error during image processing:",l);try{const u=this.activeElement.content||{};t[n].columns[this.activeColumnIndex].elements[this.activeElementIndex]={...this.activeElement,content:{url:u.url||"",thumbnail:u.thumbnail||"",alt:s}},a()}catch(u){console.error("Error saving alt text after upload failure:",u),this.$dispatch("close-modal",{id:"element-editor-modal"})}})}else if(i.includes("Video"))try{const s=this.$wire.get("elementData.video.url");s||console.warn("Empty video URL provided"),t[n].columns[this.activeColumnIndex].elements[this.activeElementIndex]={...this.activeElement,content:{url:s||""}},a()}catch(s){console.error("Error updating video element:",s),this.$dispatch("close-modal",{id:"element-editor-modal"})}else if(i.includes("Text"))try{const s=this.$wire.get("elementData.text.content");t[n].columns[this.activeColumnIndex].elements[this.activeElementIndex]={...this.activeElement,content:{text:s||""}},a()}catch(s){console.error("Error updating text element:",s),this.$dispatch("close-modal",{id:"element-editor-modal"})}else console.error(`Unknown element type: ${i}`),this.$dispatch("close-modal",{id:"element-editor-modal"})}catch(t){console.error("Error saving element content:",t),this.$dispatch("close-modal",{id:"element-editor-modal"}),this.activeRow=null,this.activeColumnIndex=null,this.activeElementIndex=null,this.activeElement=null}},deleteElement(e,t,n=0){try{if(!e||typeof e!="object"||!e.id){console.error("Invalid row provided to deleteElement");return}if(t==null||isNaN(parseInt(t))){console.error("Invalid column index provided to deleteElement");return}if(n==null||isNaN(parseInt(n))){console.error("Invalid element index provided to deleteElement");return}const r=C.store("rows").items;if(!r||!Array.isArray(r)){console.error("Rows store not properly initialized");return}const o=r.findIndex(a=>a.id===e.id);if(o===-1){console.error(`Row with id ${e.id} not found in rows store`);return}if(!Array.isArray(r[o].columns)||t>=r[o].columns.length){console.error(`Column index ${t} out of bounds for row with id ${e.id}`);return}const i=r[o].columns[t];if(!Array.isArray(i.elements)){console.error(`Column ${t} has no elements array`);return}if(n>=i.elements.length){console.error(`Element index ${n} out of bounds for column ${t}`);return}r[o].columns[t].elements.splice(n,1),this.updateCanvasData();try{const a=JSON.stringify(r);this.$wire.saveLayout(a).then(s=>{s&&s.success?console.log("Element deleted and layout saved successfully"):console.warn("Layout saved after element deletion but returned unexpected result",s)}).catch(s=>{console.error("Error saving layout after element deletion:",s)})}catch(a){console.error("Error stringifying layout after element deletion:",a)}}catch(r){console.error("Error deleting element:",r),this.updateCanvasData()}},updateCanvasData(){try{const e=C.store("rows").items;if(!e){console.error("Rows store is not properly initialized");return}let t;try{t=JSON.stringify(e)}catch(n){console.error("Error converting layout data to JSON:",n);return}if(this.$refs.canvasData)try{this.$refs.canvasData.value=t}catch(n){console.error("Error updating canvas data reference:",n)}else console.warn("Canvas data reference not found in DOM");try{this.$wire.set("data.layout",t).catch(n=>{console.error("Error updating Livewire data.layout property:",n)})}catch(n){console.error("Error calling Livewire set method:",n)}console.log("Canvas data updated successfully")}catch(e){console.error("Unexpected error in updateCanvasData:",e)}},safeParseNumber(e){try{const t=Number(e);return isNaN(t)?0:t}catch{return 0}}}))})});
